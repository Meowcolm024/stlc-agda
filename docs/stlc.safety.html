<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>stlc.safety</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="stlc.safety.html" class="Module">stlc.safety</a> <a id="20" class="Keyword">where</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="stlc.base.html" class="Module">stlc.base</a>
<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="stlc.prop.html" class="Module">stlc.prop</a>
<a id="71" class="Keyword">open</a> <a id="76" href="stlc.base.html#3539" class="Module">—→*-Reasoning</a>
<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="stlc.subst.html" class="Module">stlc.subst</a>

<a id="114" class="Keyword">import</a> <a id="121" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="159" class="Symbol">as</a> <a id="162" class="Module">Eq</a>
<a id="165" class="Keyword">open</a> <a id="170" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="173" class="Keyword">using</a> <a id="179" class="Symbol">(</a><a id="180" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="183" class="Symbol">;</a> <a id="185" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="189" class="Symbol">)</a>
<a id="191" class="Keyword">open</a> <a id="196" class="Keyword">import</a> <a id="203" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="212" class="Keyword">using</a> <a id="218" class="Symbol">(</a><a id="219" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="220" class="Symbol">;</a> <a id="222" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="226" class="Symbol">;</a> <a id="228" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="231" class="Symbol">)</a>
<a id="233" class="Keyword">open</a> <a id="238" class="Keyword">import</a> <a id="245" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="254" class="Keyword">using</a> <a id="260" class="Symbol">(</a><a id="261" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a><a id="264" class="Symbol">)</a> <a id="266" class="Keyword">renaming</a> <a id="275" class="Symbol">(</a><a id="276" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a> <a id="281" class="Symbol">to</a> <a id="284" class="InductiveConstructor">fz</a><a id="286" class="Symbol">;</a> <a id="288" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="292" class="Symbol">to</a> <a id="295" class="InductiveConstructor">fs</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Data.Product.html" class="Module">Data.Product</a> <a id="324" class="Keyword">using</a> <a id="330" class="Symbol">(</a><a id="331" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="334" class="Symbol">;</a> <a id="336" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="339" class="Symbol">;</a> <a id="341" href="Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="349" class="Symbol">;</a> <a id="351" href="Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="359" class="Symbol">)</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="382" class="Keyword">using</a> <a id="388" class="Symbol">(</a><a id="389" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="392" class="Symbol">;</a> <a id="394" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="398" class="Symbol">;</a> <a id="400" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="404" class="Symbol">)</a> <a id="406" class="Keyword">renaming</a> <a id="415" class="Symbol">(</a><a id="416" href="Data.Sum.Base.html#811" class="Function Operator">[_,_]</a> <a id="422" class="Symbol">to</a> <a id="425" class="Function Operator">case-⊎</a><a id="431" class="Symbol">)</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="462" class="Keyword">using</a> <a id="468" class="Symbol">(</a><a id="469" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="471" class="Symbol">;</a> <a id="473" href="Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a><a id="486" class="Symbol">;</a> <a id="488" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="491" class="Symbol">;</a> <a id="493" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="496" class="Symbol">;</a> <a id="498" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="500" class="Symbol">)</a>
<a id="502" class="Keyword">open</a> <a id="507" class="Keyword">import</a> <a id="514" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="525" class="Keyword">using</a> <a id="531" class="Symbol">(</a><a id="532" href="Data.Empty.html#914" class="Function">⊥</a><a id="533" class="Symbol">;</a> <a id="535" href="Data.Empty.html#1069" class="Function">⊥-elim</a><a id="541" class="Symbol">)</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="565" class="Keyword">using</a> <a id="571" class="Symbol">(</a><a id="572" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="573" class="Symbol">;</a> <a id="575" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="577" class="Symbol">)</a>

<a id="580" class="Keyword">private</a>
  <a id="590" class="Keyword">variable</a>
    <a id="603" href="stlc.safety.html#603" class="Generalizable">n</a> <a id="605" href="stlc.safety.html#605" class="Generalizable">m</a> <a id="607" class="Symbol">:</a> <a id="609" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="Safe"></a><a id="612" href="stlc.safety.html#612" class="Function">Safe</a> <a id="617" class="Symbol">:</a> <a id="619" href="stlc.base.html#410" class="Datatype">Term</a> <a id="624" class="Number">0</a> <a id="626" class="Symbol">→</a> <a id="628" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="632" href="stlc.safety.html#612" class="Function">Safe</a> <a id="637" href="stlc.safety.html#637" class="Bound">M</a> <a id="639" class="Symbol">=</a> <a id="641" class="Symbol">∀</a> <a id="643" href="stlc.safety.html#643" class="Bound">M&#39;</a> <a id="646" class="Symbol">→</a> <a id="648" href="stlc.safety.html#637" class="Bound">M</a> <a id="650" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="654" href="stlc.safety.html#643" class="Bound">M&#39;</a> <a id="657" class="Symbol">→</a> <a id="659" href="stlc.base.html#1674" class="Datatype">Value</a> <a id="665" href="stlc.safety.html#643" class="Bound">M&#39;</a> <a id="668" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="670" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="673" href="stlc.safety.html#673" class="Bound">N</a> <a id="675" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="677" class="Symbol">(</a><a id="678" href="stlc.safety.html#643" class="Bound">M&#39;</a> <a id="681" href="stlc.base.html#2784" class="Datatype Operator">—→</a> <a id="684" href="stlc.safety.html#673" class="Bound">N</a><a id="685" class="Symbol">)</a>

<a id="688" class="Keyword">infix</a>  <a id="695" class="Number">6</a> <a id="697" href="stlc.safety.html#722" class="Function Operator">—↛_</a>

<a id="702" class="Comment">-- irreducible term</a>
<a id="—↛_"></a><a id="722" href="stlc.safety.html#722" class="Function Operator">—↛_</a> <a id="726" class="Symbol">:</a> <a id="728" href="stlc.base.html#410" class="Datatype">Term</a> <a id="733" class="Number">0</a> <a id="735" class="Symbol">→</a> <a id="737" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="741" href="stlc.safety.html#722" class="Function Operator">—↛_</a> <a id="745" href="stlc.safety.html#745" class="Bound">M</a> <a id="747" class="Symbol">=</a> <a id="749" class="Symbol">∀</a> <a id="751" href="stlc.safety.html#751" class="Bound">M&#39;</a> <a id="754" class="Symbol">→</a> <a id="756" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="758" class="Symbol">(</a><a id="759" href="stlc.safety.html#745" class="Bound">M</a> <a id="761" href="stlc.base.html#2784" class="Datatype Operator">—→</a> <a id="764" href="stlc.safety.html#751" class="Bound">M&#39;</a><a id="766" class="Symbol">)</a>

<a id="769" class="Comment">-- logical predicate for semantic value/term</a>
<a id="𝒱⟦_⟧"></a><a id="814" href="stlc.safety.html#814" class="Function Operator">𝒱⟦_⟧</a> <a id="819" class="Symbol">:</a> <a id="821" href="stlc.base.html#307" class="Datatype">Type</a> <a id="826" class="Symbol">→</a> <a id="828" href="stlc.base.html#410" class="Datatype">Term</a> <a id="833" class="Number">0</a> <a id="835" class="Symbol">→</a> <a id="837" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="ℰ⟦_⟧"></a><a id="841" href="stlc.safety.html#841" class="Function Operator">ℰ⟦_⟧</a> <a id="846" class="Symbol">:</a> <a id="848" href="stlc.base.html#307" class="Datatype">Type</a> <a id="853" class="Symbol">→</a> <a id="855" href="stlc.base.html#410" class="Datatype">Term</a> <a id="860" class="Number">0</a> <a id="862" class="Symbol">→</a> <a id="864" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="869" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="872" href="stlc.base.html#326" class="InductiveConstructor">bool</a>  <a id="878" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="880" href="stlc.base.html#529" class="InductiveConstructor">true</a>  <a id="886" class="Symbol">=</a> <a id="888" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="890" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="893" href="stlc.base.html#326" class="InductiveConstructor">bool</a>  <a id="899" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="901" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="907" class="Symbol">=</a> <a id="909" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="911" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="914" href="stlc.safety.html#914" class="Bound">A</a> <a id="916" href="stlc.base.html#340" class="InductiveConstructor Operator">⇒</a> <a id="918" href="stlc.safety.html#918" class="Bound">B</a> <a id="920" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="922" class="Symbol">(</a><a id="923" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="925" href="stlc.safety.html#925" class="Bound">M</a><a id="926" class="Symbol">)</a> <a id="928" class="Symbol">=</a> <a id="930" class="Symbol">∀</a> <a id="932" href="stlc.safety.html#932" class="Bound">N</a> <a id="934" class="Symbol">→</a> <a id="936" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="939" href="stlc.safety.html#914" class="Bound">A</a> <a id="941" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="943" href="stlc.safety.html#932" class="Bound">N</a> <a id="945" class="Symbol">→</a> <a id="947" href="stlc.safety.html#841" class="Function Operator">ℰ⟦</a> <a id="950" href="stlc.safety.html#918" class="Bound">B</a> <a id="952" href="stlc.safety.html#841" class="Function Operator">⟧</a> <a id="954" class="Symbol">(</a><a id="955" href="stlc.safety.html#925" class="Bound">M</a> <a id="957" href="stlc.base.html#2684" class="Function Operator">[</a> <a id="959" href="stlc.safety.html#932" class="Bound">N</a> <a id="961" href="stlc.base.html#2684" class="Function Operator">]</a><a id="962" class="Symbol">)</a>
<a id="964" href="stlc.safety.html#814" class="CatchallClause Function Operator">𝒱⟦</a><a id="966" class="CatchallClause"> </a><a id="967" class="CatchallClause Symbol">_</a><a id="968" class="CatchallClause">     </a><a id="973" href="stlc.safety.html#814" class="CatchallClause Function Operator">⟧</a><a id="974" class="CatchallClause"> </a><a id="975" class="CatchallClause Symbol">_</a>     <a id="981" class="Symbol">=</a> <a id="983" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="986" href="stlc.safety.html#841" class="Function Operator">ℰ⟦</a> <a id="989" href="stlc.safety.html#989" class="Bound">A</a> <a id="991" href="stlc.safety.html#841" class="Function Operator">⟧</a> <a id="993" href="stlc.safety.html#993" class="Bound">M</a> <a id="995" class="Symbol">=</a> <a id="997" class="Symbol">∀</a> <a id="999" href="stlc.safety.html#999" class="Bound">M&#39;</a> <a id="1002" class="Symbol">→</a> <a id="1004" class="Symbol">(</a><a id="1005" href="stlc.safety.html#993" class="Bound">M</a> <a id="1007" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="1011" href="stlc.safety.html#999" class="Bound">M&#39;</a><a id="1013" class="Symbol">)</a> <a id="1015" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1017" class="Symbol">(</a><a id="1018" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="1021" href="stlc.safety.html#999" class="Bound">M&#39;</a><a id="1023" class="Symbol">)</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="1030" href="stlc.safety.html#989" class="Bound">A</a> <a id="1032" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="1034" href="stlc.safety.html#999" class="Bound">M&#39;</a>

<a id="1038" class="Comment">-- well typed substitution</a>
<a id="𝒢⟦_⟧"></a><a id="1065" href="stlc.safety.html#1065" class="Function Operator">𝒢⟦_⟧</a> <a id="1070" class="Symbol">:</a> <a id="1072" href="stlc.base.html#734" class="Datatype">Context</a> <a id="1080" href="stlc.safety.html#603" class="Generalizable">n</a> <a id="1082" class="Symbol">→</a> <a id="1084" class="Symbol">(</a><a id="1085" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1089" href="stlc.safety.html#603" class="Generalizable">n</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1098" class="Number">0</a><a id="1099" class="Symbol">)</a> <a id="1101" class="Symbol">→</a> <a id="1103" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1107" href="stlc.safety.html#1065" class="Function Operator">𝒢⟦</a> <a id="1110" href="stlc.safety.html#1110" class="Bound">Γ</a> <a id="1112" href="stlc.safety.html#1065" class="Function Operator">⟧</a> <a id="1114" href="stlc.safety.html#1114" class="Bound">σ</a> <a id="1116" class="Symbol">=</a> <a id="1118" class="Symbol">∀</a> <a id="1120" class="Symbol">{</a><a id="1121" href="stlc.safety.html#1121" class="Bound">x</a> <a id="1123" href="stlc.safety.html#1123" class="Bound">A</a><a id="1124" class="Symbol">}</a> <a id="1126" class="Symbol">→</a> <a id="1128" href="stlc.safety.html#1110" class="Bound">Γ</a> <a id="1130" href="stlc.base.html#851" class="Datatype Operator">∋</a> <a id="1132" href="stlc.safety.html#1121" class="Bound">x</a> <a id="1134" href="stlc.base.html#851" class="Datatype Operator">⦂</a> <a id="1136" href="stlc.safety.html#1123" class="Bound">A</a> <a id="1138" class="Symbol">→</a> <a id="1140" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="1143" href="stlc.safety.html#1123" class="Bound">A</a> <a id="1145" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="1147" class="Symbol">(</a><a id="1148" href="stlc.safety.html#1114" class="Bound">σ</a> <a id="1150" href="stlc.safety.html#1121" class="Bound">x</a><a id="1151" class="Symbol">)</a>

<a id="1154" class="Keyword">infix</a>  <a id="1161" class="Number">4</a> <a id="1163" href="stlc.safety.html#1189" class="Function Operator">_⊨_⦂_</a>

<a id="1170" class="Comment">-- semantic typing</a>
<a id="_⊨_⦂_"></a><a id="1189" href="stlc.safety.html#1189" class="Function Operator">_⊨_⦂_</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="stlc.base.html#734" class="Datatype">Context</a> <a id="1205" href="stlc.safety.html#603" class="Generalizable">n</a> <a id="1207" class="Symbol">→</a> <a id="1209" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1214" href="stlc.safety.html#603" class="Generalizable">n</a> <a id="1216" class="Symbol">→</a> <a id="1218" href="stlc.base.html#307" class="Datatype">Type</a> <a id="1223" class="Symbol">→</a> <a id="1225" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1229" href="stlc.safety.html#1229" class="Bound">Γ</a> <a id="1231" href="stlc.safety.html#1189" class="Function Operator">⊨</a> <a id="1233" href="stlc.safety.html#1233" class="Bound">M</a> <a id="1235" href="stlc.safety.html#1189" class="Function Operator">⦂</a> <a id="1237" href="stlc.safety.html#1237" class="Bound">A</a> <a id="1239" class="Symbol">=</a> <a id="1241" class="Symbol">∀</a> <a id="1243" href="stlc.safety.html#1243" class="Bound">σ</a> <a id="1245" class="Symbol">→</a> <a id="1247" href="stlc.safety.html#1065" class="Function Operator">𝒢⟦</a> <a id="1250" href="stlc.safety.html#1229" class="Bound">Γ</a> <a id="1252" href="stlc.safety.html#1065" class="Function Operator">⟧</a> <a id="1254" href="stlc.safety.html#1243" class="Bound">σ</a> <a id="1256" class="Symbol">→</a> <a id="1258" href="stlc.safety.html#841" class="Function Operator">ℰ⟦</a> <a id="1261" href="stlc.safety.html#1237" class="Bound">A</a> <a id="1263" href="stlc.safety.html#841" class="Function Operator">⟧</a> <a id="1265" class="Symbol">(</a><a id="1266" href="stlc.base.html#2301" class="Function">subst</a> <a id="1272" href="stlc.safety.html#1243" class="Bound">σ</a> <a id="1274" href="stlc.safety.html#1233" class="Bound">M</a><a id="1275" class="Symbol">)</a>

<a id="value?"></a><a id="1278" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1285" class="Symbol">:</a> <a id="1287" class="Symbol">(</a><a id="1288" href="stlc.safety.html#1288" class="Bound">M</a> <a id="1290" class="Symbol">:</a> <a id="1292" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1297" class="Number">0</a><a id="1298" class="Symbol">)</a> <a id="1300" class="Symbol">→</a> <a id="1302" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1306" class="Symbol">(</a><a id="1307" href="stlc.base.html#1674" class="Datatype">Value</a> <a id="1313" href="stlc.safety.html#1288" class="Bound">M</a><a id="1314" class="Symbol">)</a>
<a id="1316" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1323" class="Symbol">(</a><a id="1324" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1326" href="stlc.safety.html#1326" class="Bound">M</a><a id="1327" class="Symbol">)</a>      <a id="1334" class="Symbol">=</a> <a id="1336" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1340" href="stlc.base.html#1707" class="InductiveConstructor">V-abs</a>
<a id="1346" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1353" class="Symbol">(</a><a id="1354" href="stlc.safety.html#1354" class="Bound">M</a> <a id="1356" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1358" href="stlc.safety.html#1358" class="Bound">N</a><a id="1359" class="Symbol">)</a>    <a id="1364" class="Symbol">=</a> <a id="1366" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1369" class="Symbol">λ</a> <a id="1371" class="Symbol">()</a>
<a id="1374" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1381" href="stlc.base.html#529" class="InductiveConstructor">true</a>       <a id="1392" class="Symbol">=</a> <a id="1394" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1398" href="stlc.base.html#1739" class="InductiveConstructor">V-true</a>
<a id="1405" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1412" href="stlc.base.html#546" class="InductiveConstructor">false</a>      <a id="1423" class="Symbol">=</a> <a id="1425" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1429" href="stlc.base.html#1762" class="InductiveConstructor">V-false</a>
<a id="1437" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1444" class="Symbol">(</a><a id="1445" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="1448" href="stlc.safety.html#1448" class="Bound">L</a> <a id="1450" href="stlc.safety.html#1450" class="Bound">M</a> <a id="1452" href="stlc.safety.html#1452" class="Bound">N</a><a id="1453" class="Symbol">)</a> <a id="1455" class="Symbol">=</a> <a id="1457" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1460" class="Symbol">λ</a> <a id="1462" class="Symbol">()</a>

<a id="reducible?"></a><a id="1466" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1477" class="Symbol">:</a> <a id="1479" class="Symbol">(</a><a id="1480" href="stlc.safety.html#1480" class="Bound">M</a> <a id="1482" class="Symbol">:</a> <a id="1484" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1489" class="Number">0</a><a id="1490" class="Symbol">)</a> <a id="1492" class="Symbol">→</a> <a id="1494" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1498" class="Symbol">(</a><a id="1499" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1502" href="stlc.safety.html#1502" class="Bound">M&#39;</a> <a id="1505" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1507" href="stlc.safety.html#1480" class="Bound">M</a> <a id="1509" href="stlc.base.html#2784" class="Datatype Operator">—→</a> <a id="1512" href="stlc.safety.html#1502" class="Bound">M&#39;</a><a id="1514" class="Symbol">)</a>
<a id="1516" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1527" class="Symbol">(</a><a id="1528" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1530" href="stlc.safety.html#1530" class="Bound">M</a><a id="1531" class="Symbol">)</a> <a id="1533" class="Symbol">=</a> <a id="1535" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1538" class="Symbol">λ</a> <a id="1540" class="Symbol">()</a>
<a id="1543" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1554" class="Symbol">(</a><a id="1555" href="stlc.safety.html#1555" class="Bound">M</a> <a id="1557" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1559" href="stlc.safety.html#1559" class="Bound">N</a><a id="1560" class="Symbol">)</a> <a id="1562" class="Keyword">with</a> <a id="1567" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1578" href="stlc.safety.html#1555" class="Bound">M</a>
<a id="1580" class="Symbol">...</a> <a id="1584" class="Symbol">|</a> <a id="1586" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1590" class="Symbol">(</a><a id="1591" href="stlc.safety.html#1591" class="Bound">M&#39;</a> <a id="1594" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1596" href="stlc.safety.html#1596" class="Bound">M→M&#39;</a><a id="1600" class="Symbol">)</a> <a id="1602" class="Symbol">=</a> <a id="1604" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1608" class="Symbol">(</a><a id="1609" href="stlc.safety.html#1591" class="Bound">M&#39;</a> <a id="1612" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1614" class="Bound">N</a> <a id="1616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1618" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="1625" href="stlc.safety.html#1596" class="Bound">M→M&#39;</a><a id="1629" class="Symbol">)</a>
<a id="1631" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1642" class="Symbol">((</a><a id="1644" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1646" href="stlc.safety.html#1646" class="Bound">M</a><a id="1647" class="Symbol">)</a> <a id="1649" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1651" href="stlc.safety.html#1651" class="Bound">N</a><a id="1652" class="Symbol">)</a>  <a id="1655" class="Symbol">|</a> <a id="1657" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1660" href="stlc.safety.html#1660" class="Bound">—↛M</a> <a id="1664" class="Keyword">with</a> <a id="1669" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1680" href="stlc.safety.html#1651" class="Bound">N</a>
<a id="1682" class="Symbol">...</a> <a id="1686" class="Symbol">|</a> <a id="1688" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1692" class="Symbol">(</a><a id="1693" href="stlc.safety.html#1693" class="Bound">N&#39;</a> <a id="1696" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1698" href="stlc.safety.html#1698" class="Bound">N→N&#39;</a><a id="1702" class="Symbol">)</a> <a id="1704" class="Symbol">=</a> <a id="1706" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1710" class="Symbol">((</a><a id="1712" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1714" class="Bound">M</a><a id="1715" class="Symbol">)</a> <a id="1717" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1719" href="stlc.safety.html#1693" class="Bound">N&#39;</a> <a id="1722" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1724" href="stlc.base.html#2907" class="InductiveConstructor">ξ-app₂</a> <a id="1731" href="stlc.safety.html#1698" class="Bound">N→N&#39;</a><a id="1735" class="Symbol">)</a>
<a id="1737" class="Symbol">...</a> <a id="1741" class="Symbol">|</a> <a id="1743" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="1747" href="stlc.safety.html#1747" class="Bound">—↛N</a> <a id="1751" class="Keyword">with</a> <a id="1756" href="stlc.safety.html#1278" class="Function">value?</a> <a id="1763" class="Bound">N</a>
<a id="1765" class="Symbol">...</a>   <a id="1771" class="Symbol">|</a> <a id="1773" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1777" href="stlc.safety.html#1777" class="Bound">VN</a>  <a id="1781" class="Symbol">=</a> <a id="1783" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1787" class="Symbol">((</a><a id="1789" class="Bound">M</a> <a id="1791" href="stlc.base.html#2684" class="Function Operator">[</a> <a id="1793" class="Bound">N</a> <a id="1795" href="stlc.base.html#2684" class="Function Operator">]</a><a id="1796" class="Symbol">)</a> <a id="1798" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1800" href="stlc.base.html#3005" class="InductiveConstructor">β-abs</a> <a id="1806" href="stlc.safety.html#1777" class="Bound">VN</a><a id="1808" class="Symbol">)</a>
<a id="1810" class="Symbol">...</a>   <a id="1816" class="Symbol">|</a> <a id="1818" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="1822" href="stlc.safety.html#1822" class="Bound">¬VN</a> <a id="1826" class="Symbol">=</a> <a id="1828" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1831" class="Symbol">λ</a> <a id="1833" class="Symbol">{</a> <a id="1835" class="Symbol">(_</a> <a id="1838" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1840" href="stlc.base.html#2907" class="InductiveConstructor">ξ-app₂</a> <a id="1847" href="stlc.safety.html#1847" class="Bound">N→N&#39;</a><a id="1851" class="Symbol">)</a> <a id="1853" class="Symbol">→</a> <a id="1855" class="Bound">—↛N</a> <a id="1859" class="Symbol">(_</a> <a id="1862" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1864" href="stlc.safety.html#1847" class="Bound">N→N&#39;</a><a id="1868" class="Symbol">)</a> <a id="1870" class="Symbol">;</a> <a id="1872" class="Symbol">(_</a> <a id="1875" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1877" href="stlc.base.html#3005" class="InductiveConstructor">β-abs</a> <a id="1883" href="stlc.safety.html#1883" class="Bound">VN</a><a id="1885" class="Symbol">)</a> <a id="1887" class="Symbol">→</a> <a id="1889" href="stlc.safety.html#1822" class="Bound">¬VN</a> <a id="1893" href="stlc.safety.html#1883" class="Bound">VN</a> <a id="1896" class="Symbol">}</a>
<a id="1898" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1909" class="Symbol">(</a><a id="1910" href="stlc.safety.html#1910" class="Bound">M₁</a> <a id="1913" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1915" href="stlc.safety.html#1915" class="Bound">M₂</a> <a id="1918" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1920" href="stlc.safety.html#1920" class="Bound">N</a><a id="1921" class="Symbol">)</a> <a id="1923" class="Symbol">|</a> <a id="1925" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1928" href="stlc.safety.html#1928" class="Bound">—↛M</a> <a id="1932" class="Symbol">=</a> <a id="1934" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1937" class="Symbol">λ</a> <a id="1939" class="Symbol">{</a> <a id="1941" class="Symbol">(_</a> <a id="1944" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1946" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="1953" href="stlc.safety.html#1953" class="Bound">M→M&#39;</a><a id="1957" class="Symbol">)</a> <a id="1959" class="Symbol">→</a> <a id="1961" href="stlc.safety.html#1928" class="Bound">—↛M</a> <a id="1965" class="Symbol">(_</a> <a id="1968" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1970" href="stlc.safety.html#1953" class="Bound">M→M&#39;</a><a id="1974" class="Symbol">)</a> <a id="1976" class="Symbol">}</a>
<a id="1978" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="1989" class="Symbol">(</a><a id="1990" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="1995" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1997" href="stlc.safety.html#1997" class="Bound">N</a><a id="1998" class="Symbol">)</a>    <a id="2003" class="Symbol">|</a> <a id="2005" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2008" href="stlc.safety.html#2008" class="Bound">—↛M</a> <a id="2012" class="Symbol">=</a> <a id="2014" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2017" class="Symbol">λ</a> <a id="2019" class="Symbol">{</a> <a id="2021" class="Symbol">(_</a> <a id="2024" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2026" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="2033" href="stlc.safety.html#2033" class="Bound">M→M&#39;</a><a id="2037" class="Symbol">)</a> <a id="2039" class="Symbol">→</a> <a id="2041" href="stlc.safety.html#2008" class="Bound">—↛M</a> <a id="2045" class="Symbol">(_</a> <a id="2048" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2050" href="stlc.safety.html#2033" class="Bound">M→M&#39;</a><a id="2054" class="Symbol">)</a> <a id="2056" class="Symbol">}</a>
<a id="2058" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="2069" class="Symbol">(</a><a id="2070" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="2076" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2078" href="stlc.safety.html#2078" class="Bound">N</a><a id="2079" class="Symbol">)</a>   <a id="2083" class="Symbol">|</a> <a id="2085" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2088" href="stlc.safety.html#2088" class="Bound">—↛M</a> <a id="2092" class="Symbol">=</a> <a id="2094" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2097" class="Symbol">λ</a> <a id="2099" class="Symbol">{</a> <a id="2101" class="Symbol">(_</a> <a id="2104" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2106" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="2113" href="stlc.safety.html#2113" class="Bound">M→M&#39;</a><a id="2117" class="Symbol">)</a> <a id="2119" class="Symbol">→</a> <a id="2121" href="stlc.safety.html#2088" class="Bound">—↛M</a> <a id="2125" class="Symbol">(_</a> <a id="2128" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2130" href="stlc.safety.html#2113" class="Bound">M→M&#39;</a><a id="2134" class="Symbol">)</a> <a id="2136" class="Symbol">}</a>
<a id="2138" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="2149" class="Symbol">(</a><a id="2150" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2153" href="stlc.safety.html#2153" class="Bound">M₁</a> <a id="2156" href="stlc.safety.html#2156" class="Bound">M₂</a> <a id="2159" href="stlc.safety.html#2159" class="Bound">M₃</a> <a id="2162" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2164" href="stlc.safety.html#2164" class="Bound">N</a><a id="2165" class="Symbol">)</a> <a id="2167" class="Symbol">|</a> <a id="2169" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2172" href="stlc.safety.html#2172" class="Bound">—↛M</a> <a id="2176" class="Symbol">=</a> <a id="2178" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2181" class="Symbol">λ</a> <a id="2183" class="Symbol">{</a> <a id="2185" class="Symbol">(_</a> <a id="2188" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2190" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="2197" href="stlc.safety.html#2197" class="Bound">M→M&#39;</a><a id="2201" class="Symbol">)</a> <a id="2203" class="Symbol">→</a> <a id="2205" href="stlc.safety.html#2172" class="Bound">—↛M</a> <a id="2209" class="Symbol">(_</a> <a id="2212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2214" href="stlc.safety.html#2197" class="Bound">M→M&#39;</a><a id="2218" class="Symbol">)</a> <a id="2220" class="Symbol">}</a>
<a id="2222" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="2233" href="stlc.base.html#529" class="InductiveConstructor">true</a>       <a id="2244" class="Symbol">=</a> <a id="2246" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2249" class="Symbol">λ</a> <a id="2251" class="Symbol">()</a>
<a id="2254" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="2265" href="stlc.base.html#546" class="InductiveConstructor">false</a>      <a id="2276" class="Symbol">=</a> <a id="2278" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2281" class="Symbol">λ</a> <a id="2283" class="Symbol">()</a>
<a id="2286" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="2297" class="Symbol">(</a><a id="2298" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2301" href="stlc.safety.html#2301" class="Bound">L</a> <a id="2303" href="stlc.safety.html#2303" class="Bound">M</a> <a id="2305" href="stlc.safety.html#2305" class="Bound">N</a><a id="2306" class="Symbol">)</a> <a id="2308" class="Keyword">with</a> <a id="2313" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="2324" href="stlc.safety.html#2301" class="Bound">L</a>
<a id="2326" class="Symbol">...</a> <a id="2330" class="Symbol">|</a> <a id="2332" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2336" class="Symbol">(</a><a id="2337" href="stlc.safety.html#2337" class="Bound">M&#39;</a> <a id="2340" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2342" href="stlc.safety.html#2342" class="Bound">M→M&#39;</a><a id="2346" class="Symbol">)</a> <a id="2348" class="Symbol">=</a> <a id="2350" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2354" class="Symbol">(</a><a id="2355" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2358" href="stlc.safety.html#2337" class="Bound">M&#39;</a> <a id="2361" class="Bound">M</a> <a id="2363" class="Bound">N</a> <a id="2365" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2367" href="stlc.base.html#3093" class="InductiveConstructor">ξ-if</a> <a id="2372" href="stlc.safety.html#2342" class="Bound">M→M&#39;</a><a id="2376" class="Symbol">)</a>
<a id="2378" class="Symbol">...</a> <a id="2382" class="Symbol">|</a> <a id="2384" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="2388" href="stlc.safety.html#2388" class="Bound">—↛M</a> <a id="2392" class="Keyword">with</a> <a id="2397" class="Bound">L</a>
<a id="2399" class="Symbol">...</a>   <a id="2405" class="Symbol">|</a> <a id="2407" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="2409" href="stlc.safety.html#2409" class="Bound">L₁</a>          <a id="2421" class="Symbol">=</a> <a id="2423" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2426" class="Symbol">λ</a> <a id="2428" class="Symbol">{</a> <a id="2430" class="Symbol">(_</a> <a id="2433" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2435" href="stlc.base.html#3093" class="InductiveConstructor">ξ-if</a> <a id="2440" href="stlc.safety.html#2440" class="Bound">if→if&#39;</a><a id="2446" class="Symbol">)</a> <a id="2448" class="Symbol">→</a> <a id="2450" class="Bound">—↛M</a> <a id="2454" class="Symbol">(_</a> <a id="2457" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2459" href="stlc.safety.html#2440" class="Bound">if→if&#39;</a><a id="2465" class="Symbol">)</a> <a id="2467" class="Symbol">}</a>
<a id="2469" class="Symbol">...</a>   <a id="2475" class="Symbol">|</a> <a id="2477" href="stlc.safety.html#2477" class="Bound">L₁</a> <a id="2480" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2482" href="stlc.safety.html#2482" class="Bound">L₂</a>       <a id="2491" class="Symbol">=</a> <a id="2493" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2496" class="Symbol">λ</a> <a id="2498" class="Symbol">{</a> <a id="2500" class="Symbol">(_</a> <a id="2503" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2505" href="stlc.base.html#3093" class="InductiveConstructor">ξ-if</a> <a id="2510" href="stlc.safety.html#2510" class="Bound">if→if&#39;</a><a id="2516" class="Symbol">)</a> <a id="2518" class="Symbol">→</a> <a id="2520" class="Bound">—↛M</a> <a id="2524" class="Symbol">(_</a> <a id="2527" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2529" href="stlc.safety.html#2510" class="Bound">if→if&#39;</a><a id="2535" class="Symbol">)</a> <a id="2537" class="Symbol">}</a>
<a id="2539" class="Symbol">...</a>   <a id="2545" class="Symbol">|</a> <a id="2547" href="stlc.base.html#529" class="InductiveConstructor">true</a>          <a id="2561" class="Symbol">=</a> <a id="2563" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2567" class="Symbol">(</a><a id="2568" class="Bound">M</a> <a id="2570" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2572" href="stlc.base.html#3187" class="InductiveConstructor">β-if₁</a><a id="2577" class="Symbol">)</a>
<a id="2579" class="Symbol">...</a>   <a id="2585" class="Symbol">|</a> <a id="2587" href="stlc.base.html#546" class="InductiveConstructor">false</a>         <a id="2601" class="Symbol">=</a> <a id="2603" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2607" class="Symbol">(</a><a id="2608" class="Bound">N</a> <a id="2610" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2612" href="stlc.base.html#3253" class="InductiveConstructor">β-if₂</a><a id="2617" class="Symbol">)</a>
<a id="2619" class="Symbol">...</a>   <a id="2625" class="Symbol">|</a> <a id="2627" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2630" href="stlc.safety.html#2630" class="Bound">L₁</a> <a id="2633" href="stlc.safety.html#2633" class="Bound">L₂</a> <a id="2636" href="stlc.safety.html#2636" class="Bound">L₃</a>   <a id="2641" class="Symbol">=</a> <a id="2643" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2646" class="Symbol">λ</a> <a id="2648" class="Symbol">{</a> <a id="2650" class="Symbol">(_</a> <a id="2653" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2655" href="stlc.base.html#3093" class="InductiveConstructor">ξ-if</a> <a id="2660" href="stlc.safety.html#2660" class="Bound">if→if&#39;</a><a id="2666" class="Symbol">)</a> <a id="2668" class="Symbol">→</a> <a id="2670" class="Bound">—↛M</a> <a id="2674" class="Symbol">(_</a> <a id="2677" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2679" href="stlc.safety.html#2660" class="Bound">if→if&#39;</a><a id="2685" class="Symbol">)</a> <a id="2687" class="Symbol">}</a>

<a id="𝒱⟦bool⟧-Canonical"></a><a id="2690" href="stlc.safety.html#2690" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="2708" class="Symbol">:</a> <a id="2710" class="Symbol">∀</a> <a id="2712" class="Symbol">{</a><a id="2713" href="stlc.safety.html#2713" class="Bound">M</a><a id="2714" class="Symbol">}</a> <a id="2716" class="Symbol">→</a> <a id="2718" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="2721" href="stlc.base.html#326" class="InductiveConstructor">bool</a> <a id="2726" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="2728" href="stlc.safety.html#2713" class="Bound">M</a> <a id="2730" class="Symbol">→</a> <a id="2732" href="stlc.safety.html#2713" class="Bound">M</a> <a id="2734" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2736" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="2741" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2743" href="stlc.safety.html#2713" class="Bound">M</a> <a id="2745" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2747" href="stlc.base.html#546" class="InductiveConstructor">false</a>
<a id="2753" href="stlc.safety.html#2690" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="2771" class="Symbol">{</a><a id="2772" class="Argument">M</a> <a id="2774" class="Symbol">=</a> <a id="2776" href="stlc.base.html#529" class="InductiveConstructor">true</a><a id="2780" class="Symbol">}</a>  <a id="2783" href="stlc.safety.html#2783" class="Bound">VM</a> <a id="2786" class="Symbol">=</a> <a id="2788" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2793" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2798" href="stlc.safety.html#2690" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="2816" class="Symbol">{</a><a id="2817" class="Argument">M</a> <a id="2819" class="Symbol">=</a> <a id="2821" href="stlc.base.html#546" class="InductiveConstructor">false</a><a id="2826" class="Symbol">}</a> <a id="2828" href="stlc.safety.html#2828" class="Bound">VM</a> <a id="2831" class="Symbol">=</a> <a id="2833" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2838" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="𝒱⟦⇒⟧-Canonical"></a><a id="2844" href="stlc.safety.html#2844" class="Function">𝒱⟦⇒⟧-Canonical</a> <a id="2859" class="Symbol">:</a> <a id="2861" class="Symbol">∀</a> <a id="2863" class="Symbol">{</a><a id="2864" href="stlc.safety.html#2864" class="Bound">M</a> <a id="2866" href="stlc.safety.html#2866" class="Bound">A</a> <a id="2868" href="stlc.safety.html#2868" class="Bound">B</a><a id="2869" class="Symbol">}</a> <a id="2871" class="Symbol">→</a> <a id="2873" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="2876" href="stlc.safety.html#2866" class="Bound">A</a> <a id="2878" href="stlc.base.html#340" class="InductiveConstructor Operator">⇒</a> <a id="2880" href="stlc.safety.html#2868" class="Bound">B</a> <a id="2882" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="2884" href="stlc.safety.html#2864" class="Bound">M</a> <a id="2886" class="Symbol">→</a> <a id="2888" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2891" href="stlc.safety.html#2891" class="Bound">N</a> <a id="2893" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2895" class="Symbol">(</a><a id="2896" href="stlc.safety.html#2864" class="Bound">M</a> <a id="2898" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2900" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="2902" href="stlc.safety.html#2891" class="Bound">N</a><a id="2903" class="Symbol">)</a>
<a id="2905" href="stlc.safety.html#2844" class="Function">𝒱⟦⇒⟧-Canonical</a> <a id="2920" class="Symbol">{</a><a id="2921" class="Argument">M</a> <a id="2923" class="Symbol">=</a> <a id="2925" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="2927" href="stlc.safety.html#2927" class="Bound">M</a><a id="2928" class="Symbol">}</a> <a id="2930" href="stlc.safety.html#2930" class="Bound">VM</a> <a id="2933" class="Symbol">=</a> <a id="2935" href="stlc.safety.html#2927" class="Bound">M</a> <a id="2937" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2939" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="—↛-M→*M"></a><a id="2945" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="2953" class="Symbol">:</a> <a id="2955" class="Symbol">∀</a> <a id="2957" class="Symbol">{</a><a id="2958" href="stlc.safety.html#2958" class="Bound">M</a> <a id="2960" href="stlc.safety.html#2960" class="Bound">M&#39;</a><a id="2962" class="Symbol">}</a> <a id="2964" class="Symbol">→</a> <a id="2966" href="stlc.safety.html#2958" class="Bound">M</a> <a id="2968" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="2972" href="stlc.safety.html#2960" class="Bound">M&#39;</a> <a id="2975" class="Symbol">→</a> <a id="2977" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="2980" href="stlc.safety.html#2958" class="Bound">M</a> <a id="2982" class="Symbol">→</a> <a id="2984" href="stlc.safety.html#2958" class="Bound">M</a> <a id="2986" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2988" href="stlc.safety.html#2960" class="Bound">M&#39;</a>
<a id="2991" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="2999" class="Symbol">(_</a> <a id="3002" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="3003" class="Symbol">)</a>                <a id="3020" href="stlc.safety.html#3020" class="Bound">—↛M</a> <a id="3024" class="Symbol">=</a> <a id="3026" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3031" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="3039" class="Symbol">(_</a> <a id="3042" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="3046" href="stlc.safety.html#3046" class="Bound">M→M₁</a> <a id="3051" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="3053" href="stlc.safety.html#3053" class="Bound">M→*M&#39;</a><a id="3058" class="Symbol">)</a> <a id="3060" href="stlc.safety.html#3060" class="Bound">—↛M</a> <a id="3064" class="Symbol">=</a> <a id="3066" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="3073" class="Symbol">(</a><a id="3074" href="stlc.safety.html#3060" class="Bound">—↛M</a> <a id="3078" class="Symbol">_</a> <a id="3080" href="stlc.safety.html#3046" class="Bound">M→M₁</a><a id="3084" class="Symbol">)</a>

<a id="V→—↛"></a><a id="3087" href="stlc.safety.html#3087" class="Function">V→—↛</a> <a id="3092" class="Symbol">:</a> <a id="3094" class="Symbol">∀</a> <a id="3096" class="Symbol">{</a><a id="3097" href="stlc.safety.html#3097" class="Bound">M</a> <a id="3099" class="Symbol">:</a> <a id="3101" href="stlc.base.html#410" class="Datatype">Term</a> <a id="3106" class="Number">0</a><a id="3107" class="Symbol">}</a> <a id="3109" class="Symbol">→</a> <a id="3111" href="stlc.base.html#1674" class="Datatype">Value</a> <a id="3117" href="stlc.safety.html#3097" class="Bound">M</a> <a id="3119" class="Symbol">→</a> <a id="3121" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="3124" href="stlc.safety.html#3097" class="Bound">M</a>
<a id="3126" href="stlc.safety.html#3087" class="Function">V→—↛</a> <a id="3131" href="stlc.base.html#1707" class="InductiveConstructor">V-abs</a>   <a id="3139" href="stlc.safety.html#3139" class="Bound">M&#39;</a> <a id="3142" class="Symbol">()</a>
<a id="3145" href="stlc.safety.html#3087" class="Function">V→—↛</a> <a id="3150" href="stlc.base.html#1739" class="InductiveConstructor">V-true</a>  <a id="3158" href="stlc.safety.html#3158" class="Bound">M&#39;</a> <a id="3161" class="Symbol">()</a>
<a id="3164" href="stlc.safety.html#3087" class="Function">V→—↛</a> <a id="3169" href="stlc.base.html#1762" class="InductiveConstructor">V-false</a> <a id="3177" href="stlc.safety.html#3177" class="Bound">M&#39;</a> <a id="3180" class="Symbol">()</a>

<a id="𝒱-V"></a><a id="3184" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="3188" class="Symbol">:</a> <a id="3190" class="Symbol">∀</a> <a id="3192" class="Symbol">{</a><a id="3193" href="stlc.safety.html#3193" class="Bound">M</a> <a id="3195" href="stlc.safety.html#3195" class="Bound">A</a><a id="3196" class="Symbol">}</a> <a id="3198" class="Symbol">→</a> <a id="3200" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="3203" href="stlc.safety.html#3195" class="Bound">A</a> <a id="3205" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="3207" href="stlc.safety.html#3193" class="Bound">M</a> <a id="3209" class="Symbol">→</a> <a id="3211" href="stlc.base.html#1674" class="Datatype">Value</a> <a id="3217" href="stlc.safety.html#3193" class="Bound">M</a>
<a id="3219" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="3223" class="Symbol">{</a><a id="3224" class="Argument">M</a> <a id="3226" class="Symbol">=</a> <a id="3228" href="stlc.base.html#529" class="InductiveConstructor">true</a><a id="3232" class="Symbol">}</a>  <a id="3235" class="Symbol">{</a><a id="3236" class="Argument">A</a> <a id="3238" class="Symbol">=</a> <a id="3240" href="stlc.base.html#326" class="InductiveConstructor">bool</a><a id="3244" class="Symbol">}</a>  <a id="3247" href="stlc.safety.html#3247" class="Bound">VM</a> <a id="3250" class="Symbol">=</a> <a id="3252" href="stlc.base.html#1739" class="InductiveConstructor">V-true</a>
<a id="3259" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="3263" class="Symbol">{</a><a id="3264" class="Argument">M</a> <a id="3266" class="Symbol">=</a> <a id="3268" href="stlc.base.html#546" class="InductiveConstructor">false</a><a id="3273" class="Symbol">}</a> <a id="3275" class="Symbol">{</a><a id="3276" class="Argument">A</a> <a id="3278" class="Symbol">=</a> <a id="3280" href="stlc.base.html#326" class="InductiveConstructor">bool</a><a id="3284" class="Symbol">}</a>  <a id="3287" href="stlc.safety.html#3287" class="Bound">VM</a> <a id="3290" class="Symbol">=</a> <a id="3292" href="stlc.base.html#1762" class="InductiveConstructor">V-false</a>
<a id="3300" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="3304" class="Symbol">{</a><a id="3305" class="Argument">M</a> <a id="3307" class="Symbol">=</a> <a id="3309" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3311" href="stlc.safety.html#3311" class="Bound">M</a><a id="3312" class="Symbol">}</a>   <a id="3316" class="Symbol">{</a><a id="3317" class="Argument">A</a> <a id="3319" class="Symbol">=</a> <a id="3321" href="stlc.safety.html#3321" class="Bound">A</a> <a id="3323" href="stlc.base.html#340" class="InductiveConstructor Operator">⇒</a> <a id="3325" href="stlc.safety.html#3325" class="Bound">B</a><a id="3326" class="Symbol">}</a> <a id="3328" href="stlc.safety.html#3328" class="Bound">VM</a> <a id="3331" class="Symbol">=</a> <a id="3333" href="stlc.base.html#1707" class="InductiveConstructor">V-abs</a>

<a id="𝒱→—↛"></a><a id="3340" href="stlc.safety.html#3340" class="Function">𝒱→—↛</a> <a id="3345" class="Symbol">:</a> <a id="3347" class="Symbol">∀</a> <a id="3349" class="Symbol">{</a><a id="3350" href="stlc.safety.html#3350" class="Bound">M</a> <a id="3352" href="stlc.safety.html#3352" class="Bound">A</a><a id="3353" class="Symbol">}</a> <a id="3355" class="Symbol">→</a> <a id="3357" href="stlc.safety.html#814" class="Function Operator">𝒱⟦</a> <a id="3360" href="stlc.safety.html#3352" class="Bound">A</a> <a id="3362" href="stlc.safety.html#814" class="Function Operator">⟧</a> <a id="3364" href="stlc.safety.html#3350" class="Bound">M</a> <a id="3366" class="Symbol">→</a> <a id="3368" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="3371" href="stlc.safety.html#3350" class="Bound">M</a>
<a id="3373" href="stlc.safety.html#3340" class="Function">𝒱→—↛</a> <a id="3378" href="stlc.safety.html#3378" class="Bound">VM</a> <a id="3381" class="Symbol">=</a> <a id="3383" href="stlc.safety.html#3087" class="Function">V→—↛</a> <a id="3388" class="Symbol">(</a><a id="3389" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="3393" href="stlc.safety.html#3378" class="Bound">VM</a><a id="3395" class="Symbol">)</a>

<a id="3398" class="Comment">-- irreducible application implies its lhs is irreducible</a>
<a id="appL—↛"></a><a id="3456" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3463" class="Symbol">:</a> <a id="3465" class="Symbol">∀</a> <a id="3467" class="Symbol">{</a><a id="3468" href="stlc.safety.html#3468" class="Bound">M</a> <a id="3470" href="stlc.safety.html#3470" class="Bound">N</a> <a id="3472" href="stlc.safety.html#3472" class="Bound">V</a><a id="3473" class="Symbol">}</a> <a id="3475" class="Symbol">→</a> <a id="3477" href="stlc.safety.html#3468" class="Bound">M</a> <a id="3479" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3481" href="stlc.safety.html#3470" class="Bound">N</a> <a id="3483" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="3487" href="stlc.safety.html#3472" class="Bound">V</a> <a id="3489" class="Symbol">→</a> <a id="3491" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="3494" href="stlc.safety.html#3472" class="Bound">V</a> <a id="3496" class="Symbol">→</a> <a id="3498" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3501" href="stlc.safety.html#3501" class="Bound">M&#39;</a> <a id="3504" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3506" class="Symbol">(</a><a id="3507" href="stlc.safety.html#3468" class="Bound">M</a> <a id="3509" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="3513" href="stlc.safety.html#3501" class="Bound">M&#39;</a><a id="3515" class="Symbol">)</a> <a id="3517" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3519" class="Symbol">(</a><a id="3520" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="3523" href="stlc.safety.html#3501" class="Bound">M&#39;</a><a id="3525" class="Symbol">)</a>
<a id="3527" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3534" class="Symbol">((</a><a id="3536" href="stlc.safety.html#3536" class="Bound">M</a> <a id="3538" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3540" href="stlc.safety.html#3540" class="Bound">N</a><a id="3541" class="Symbol">)</a> <a id="3543" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="3544" class="Symbol">)</a>                         <a id="3570" href="stlc.safety.html#3570" class="Bound">—↛V</a> <a id="3574" class="Symbol">=</a> <a id="3576" href="stlc.safety.html#3536" class="Bound">M</a> <a id="3578" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3580" class="Symbol">(</a><a id="3581" href="stlc.safety.html#3536" class="Bound">M</a> <a id="3583" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="3584" class="Symbol">)</a> <a id="3586" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3588" class="Symbol">λ</a> <a id="3590" class="Symbol">{</a> <a id="3592" href="stlc.safety.html#3592" class="Bound">M&#39;</a> <a id="3595" href="stlc.safety.html#3595" class="Bound">x</a> <a id="3597" class="Symbol">→</a> <a id="3599" href="stlc.safety.html#3570" class="Bound">—↛V</a> <a id="3603" class="Symbol">(</a><a id="3604" href="stlc.safety.html#3592" class="Bound">M&#39;</a> <a id="3607" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3609" href="stlc.safety.html#3540" class="Bound">N</a><a id="3610" class="Symbol">)</a> <a id="3612" class="Symbol">(</a><a id="3613" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="3620" href="stlc.safety.html#3595" class="Bound">x</a><a id="3621" class="Symbol">)</a> <a id="3623" class="Symbol">}</a>
<a id="3625" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3632" class="Symbol">((</a><a id="3634" href="stlc.safety.html#3634" class="Bound">M</a> <a id="3636" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3638" href="stlc.safety.html#3638" class="Bound">N</a><a id="3639" class="Symbol">)</a> <a id="3641" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="3645" href="stlc.base.html#2825" class="InductiveConstructor">ξ-app₁</a> <a id="3652" href="stlc.safety.html#3652" class="Bound">M→M&#39;</a> <a id="3657" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="3659" href="stlc.safety.html#3659" class="Bound">M·N→*V</a><a id="3665" class="Symbol">)</a>  <a id="3668" href="stlc.safety.html#3668" class="Bound">—↛V</a> <a id="3672" class="Keyword">with</a> <a id="3677" href="stlc.safety.html#3677" class="Bound">M&#39;</a> <a id="3680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3682" href="stlc.safety.html#3682" class="Bound">M→*M&#39;</a> <a id="3688" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3690" href="stlc.safety.html#3690" class="Bound">—↛M&#39;</a> ← <a id="3697" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3704" href="stlc.safety.html#3659" class="Bound">M·N→*V</a> <a id="3711" href="stlc.safety.html#3668" class="Bound">—↛V</a> <a id="3715" class="Symbol">=</a> <a id="3717" href="stlc.safety.html#3677" class="Bound">M&#39;</a> <a id="3720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3722" href="stlc.base.html#3444" class="InductiveConstructor">step—→</a> <a id="3729" href="stlc.safety.html#3634" class="Bound">M</a> <a id="3731" href="stlc.safety.html#3682" class="Bound">M→*M&#39;</a> <a id="3737" href="stlc.safety.html#3652" class="Bound">M→M&#39;</a> <a id="3742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3744" href="stlc.safety.html#3690" class="Bound">—↛M&#39;</a>
<a id="3749" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3756" class="Symbol">((</a><a id="3758" href="stlc.safety.html#3758" class="Bound">M</a> <a id="3760" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3762" href="stlc.safety.html#3762" class="Bound">N</a><a id="3763" class="Symbol">)</a> <a id="3765" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="3769" href="stlc.base.html#2907" class="InductiveConstructor">ξ-app₂</a> <a id="3776" href="stlc.safety.html#3776" class="Bound">N→N&#39;</a> <a id="3781" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="3783" href="stlc.safety.html#3783" class="Bound">M·N→*V</a><a id="3789" class="Symbol">)</a>  <a id="3792" href="stlc.safety.html#3792" class="Bound">—↛V</a> <a id="3796" class="Symbol">=</a> <a id="3798" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3805" href="stlc.safety.html#3783" class="Bound">M·N→*V</a> <a id="3812" href="stlc.safety.html#3792" class="Bound">—↛V</a>
<a id="3816" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="3823" class="Symbol">(((</a><a id="3826" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3828" href="stlc.safety.html#3828" class="Bound">M</a><a id="3829" class="Symbol">)</a> <a id="3831" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3833" href="stlc.safety.html#3833" class="Bound">N</a><a id="3834" class="Symbol">)</a> <a id="3836" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="3840" href="stlc.base.html#3005" class="InductiveConstructor">β-abs</a> <a id="3846" href="stlc.safety.html#3846" class="Bound">VN</a> <a id="3849" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="3851" href="stlc.safety.html#3851" class="Bound">M·N→*V</a><a id="3857" class="Symbol">)</a> <a id="3859" href="stlc.safety.html#3859" class="Bound">—↛V</a> <a id="3863" class="Symbol">=</a> <a id="3865" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3867" href="stlc.safety.html#3828" class="Bound">M</a> <a id="3869" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3871" class="Symbol">(</a><a id="3872" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3874" href="stlc.safety.html#3828" class="Bound">M</a> <a id="3876" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="3877" class="Symbol">)</a> <a id="3879" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3881" class="Symbol">λ</a> <a id="3883" class="Symbol">{</a> <a id="3885" href="stlc.safety.html#3885" class="Bound">M&#39;</a> <a id="3888" class="Symbol">()</a> <a id="3891" class="Symbol">}</a>

<a id="appR—↛"></a><a id="3894" href="stlc.safety.html#3894" class="Function">appR—↛</a> <a id="3901" class="Symbol">:</a> <a id="3903" class="Symbol">∀</a> <a id="3905" class="Symbol">{</a><a id="3906" href="stlc.safety.html#3906" class="Bound">M</a> <a id="3908" href="stlc.safety.html#3908" class="Bound">N</a> <a id="3910" href="stlc.safety.html#3910" class="Bound">V</a><a id="3911" class="Symbol">}</a> <a id="3913" class="Symbol">→</a> <a id="3915" class="Symbol">(</a><a id="3916" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3918" href="stlc.safety.html#3906" class="Bound">M</a><a id="3919" class="Symbol">)</a> <a id="3921" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3923" href="stlc.safety.html#3908" class="Bound">N</a> <a id="3925" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="3929" href="stlc.safety.html#3910" class="Bound">V</a> <a id="3931" class="Symbol">→</a> <a id="3933" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="3936" href="stlc.safety.html#3910" class="Bound">V</a> <a id="3938" class="Symbol">→</a> <a id="3940" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3943" href="stlc.safety.html#3943" class="Bound">N&#39;</a> <a id="3946" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3948" class="Symbol">(</a><a id="3949" href="stlc.safety.html#3908" class="Bound">N</a> <a id="3951" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="3955" href="stlc.safety.html#3943" class="Bound">N&#39;</a><a id="3957" class="Symbol">)</a> <a id="3959" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3961" class="Symbol">(</a><a id="3962" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="3965" href="stlc.safety.html#3943" class="Bound">N&#39;</a><a id="3967" class="Symbol">)</a>
<a id="3969" href="stlc.safety.html#3894" class="Function">appR—↛</a> <a id="3976" class="Symbol">(((</a><a id="3979" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3981" href="stlc.safety.html#3981" class="Bound">M</a><a id="3982" class="Symbol">)</a> <a id="3984" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3986" href="stlc.safety.html#3986" class="Bound">N</a><a id="3987" class="Symbol">)</a> <a id="3989" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="3990" class="Symbol">)</a>                        <a id="4015" href="stlc.safety.html#4015" class="Bound">—↛V</a> <a id="4019" class="Symbol">=</a> <a id="4021" href="stlc.safety.html#3986" class="Bound">N</a> <a id="4023" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4025" class="Symbol">(</a><a id="4026" href="stlc.safety.html#3986" class="Bound">N</a> <a id="4028" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="4029" class="Symbol">)</a> <a id="4031" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4033" class="Symbol">λ</a> <a id="4035" class="Symbol">{</a> <a id="4037" href="stlc.safety.html#4037" class="Bound">M&#39;</a> <a id="4040" href="stlc.safety.html#4040" class="Bound">x</a> <a id="4042" class="Symbol">→</a> <a id="4044" href="stlc.safety.html#4015" class="Bound">—↛V</a> <a id="4048" class="Symbol">((</a><a id="4050" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4052" href="stlc.safety.html#3981" class="Bound">M</a><a id="4053" class="Symbol">)</a> <a id="4055" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4057" href="stlc.safety.html#4037" class="Bound">M&#39;</a><a id="4059" class="Symbol">)</a> <a id="4061" class="Symbol">(</a><a id="4062" href="stlc.base.html#2907" class="InductiveConstructor">ξ-app₂</a> <a id="4069" href="stlc.safety.html#4040" class="Bound">x</a><a id="4070" class="Symbol">)</a> <a id="4072" class="Symbol">}</a>
<a id="4074" href="stlc.safety.html#3894" class="Function">appR—↛</a> <a id="4081" class="Symbol">(((</a><a id="4084" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4086" href="stlc.safety.html#4086" class="Bound">M</a><a id="4087" class="Symbol">)</a> <a id="4089" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4091" href="stlc.safety.html#4091" class="Bound">N</a><a id="4092" class="Symbol">)</a> <a id="4094" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="4098" href="stlc.base.html#2907" class="InductiveConstructor">ξ-app₂</a> <a id="4105" href="stlc.safety.html#4105" class="Bound">N→N&#39;</a> <a id="4110" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="4112" href="stlc.safety.html#4112" class="Bound">M·N→*V</a><a id="4118" class="Symbol">)</a> <a id="4120" href="stlc.safety.html#4120" class="Bound">—↛V</a> <a id="4124" class="Keyword">with</a> <a id="4129" href="stlc.safety.html#4129" class="Bound">N&#39;</a> <a id="4132" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4134" href="stlc.safety.html#4134" class="Bound">N→*N&#39;</a> <a id="4140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4142" href="stlc.safety.html#4142" class="Bound">—↛N&#39;</a> ← <a id="4149" href="stlc.safety.html#3894" class="Function">appR—↛</a> <a id="4156" href="stlc.safety.html#4112" class="Bound">M·N→*V</a> <a id="4163" href="stlc.safety.html#4120" class="Bound">—↛V</a> <a id="4167" class="Symbol">=</a> <a id="4169" href="stlc.safety.html#4129" class="Bound">N&#39;</a> <a id="4172" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4174" href="stlc.base.html#3444" class="InductiveConstructor">step—→</a> <a id="4181" href="stlc.safety.html#4091" class="Bound">N</a> <a id="4183" href="stlc.safety.html#4134" class="Bound">N→*N&#39;</a> <a id="4189" href="stlc.safety.html#4105" class="Bound">N→N&#39;</a> <a id="4194" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4196" href="stlc.safety.html#4142" class="Bound">—↛N&#39;</a>
<a id="4201" href="stlc.safety.html#3894" class="Function">appR—↛</a> <a id="4208" class="Symbol">(((</a><a id="4211" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4213" href="stlc.safety.html#4213" class="Bound">M</a><a id="4214" class="Symbol">)</a> <a id="4216" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4218" href="stlc.safety.html#4218" class="Bound">N</a><a id="4219" class="Symbol">)</a> <a id="4221" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="4225" href="stlc.base.html#3005" class="InductiveConstructor">β-abs</a> <a id="4231" href="stlc.safety.html#4231" class="Bound">VN</a> <a id="4234" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="4236" href="stlc.safety.html#4236" class="Bound">M·N→*V</a><a id="4242" class="Symbol">)</a>    <a id="4247" href="stlc.safety.html#4247" class="Bound">—↛V</a> <a id="4251" class="Symbol">=</a> <a id="4253" href="stlc.safety.html#4218" class="Bound">N</a> <a id="4255" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4257" class="Symbol">(</a><a id="4258" href="stlc.safety.html#4218" class="Bound">N</a> <a id="4260" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="4261" class="Symbol">)</a> <a id="4263" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4265" href="stlc.safety.html#3087" class="Function">V→—↛</a> <a id="4270" href="stlc.safety.html#4231" class="Bound">VN</a>

<a id="if—↛"></a><a id="4274" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="4279" class="Symbol">:</a> <a id="4281" class="Symbol">∀</a> <a id="4283" class="Symbol">{</a><a id="4284" href="stlc.safety.html#4284" class="Bound">L</a> <a id="4286" href="stlc.safety.html#4286" class="Bound">M</a> <a id="4288" href="stlc.safety.html#4288" class="Bound">N</a> <a id="4290" href="stlc.safety.html#4290" class="Bound">V</a><a id="4291" class="Symbol">}</a> <a id="4293" class="Symbol">→</a> <a id="4295" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4298" href="stlc.safety.html#4284" class="Bound">L</a> <a id="4300" href="stlc.safety.html#4286" class="Bound">M</a> <a id="4302" href="stlc.safety.html#4288" class="Bound">N</a> <a id="4304" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="4308" href="stlc.safety.html#4290" class="Bound">V</a> <a id="4310" class="Symbol">→</a> <a id="4312" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="4315" href="stlc.safety.html#4290" class="Bound">V</a> <a id="4317" class="Symbol">→</a> <a id="4319" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="4322" href="stlc.safety.html#4322" class="Bound">L&#39;</a> <a id="4325" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="4327" class="Symbol">(</a><a id="4328" href="stlc.safety.html#4284" class="Bound">L</a> <a id="4330" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="4334" href="stlc.safety.html#4322" class="Bound">L&#39;</a><a id="4336" class="Symbol">)</a> <a id="4338" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4340" class="Symbol">(</a><a id="4341" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="4344" href="stlc.safety.html#4322" class="Bound">L&#39;</a><a id="4346" class="Symbol">)</a>
<a id="4348" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="4353" class="Symbol">((</a><a id="4355" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4358" href="stlc.safety.html#4358" class="Bound">L</a> <a id="4360" href="stlc.safety.html#4360" class="Bound">M</a> <a id="4362" href="stlc.safety.html#4362" class="Bound">N</a><a id="4363" class="Symbol">)</a> <a id="4365" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="4366" class="Symbol">)</a>                    <a id="4387" href="stlc.safety.html#4387" class="Bound">—↛V</a> <a id="4391" class="Symbol">=</a> <a id="4393" href="stlc.safety.html#4358" class="Bound">L</a> <a id="4395" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4397" class="Symbol">(</a><a id="4398" href="stlc.safety.html#4358" class="Bound">L</a> <a id="4400" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="4401" class="Symbol">)</a> <a id="4403" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4405" class="Symbol">(λ</a> <a id="4408" href="stlc.safety.html#4408" class="Bound">M&#39;</a> <a id="4411" href="stlc.safety.html#4411" class="Bound">x</a> <a id="4413" class="Symbol">→</a> <a id="4415" href="stlc.safety.html#4387" class="Bound">—↛V</a> <a id="4419" class="Symbol">(</a><a id="4420" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4423" href="stlc.safety.html#4408" class="Bound">M&#39;</a> <a id="4426" href="stlc.safety.html#4360" class="Bound">M</a> <a id="4428" href="stlc.safety.html#4362" class="Bound">N</a><a id="4429" class="Symbol">)</a> <a id="4431" class="Symbol">(</a><a id="4432" href="stlc.base.html#3093" class="InductiveConstructor">ξ-if</a> <a id="4437" href="stlc.safety.html#4411" class="Bound">x</a><a id="4438" class="Symbol">))</a>
<a id="4441" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="4446" class="Symbol">((</a><a id="4448" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4451" href="stlc.safety.html#4451" class="Bound">L</a> <a id="4453" href="stlc.safety.html#4453" class="Bound">M</a> <a id="4455" href="stlc.safety.html#4455" class="Bound">N</a><a id="4456" class="Symbol">)</a> <a id="4458" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="4462" href="stlc.base.html#3093" class="InductiveConstructor">ξ-if</a> <a id="4467" href="stlc.safety.html#4467" class="Bound">VL</a> <a id="4470" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="4472" href="stlc.safety.html#4472" class="Bound">if→*V</a><a id="4477" class="Symbol">)</a>  <a id="4480" href="stlc.safety.html#4480" class="Bound">—↛V</a> <a id="4484" class="Keyword">with</a> <a id="4489" href="stlc.safety.html#4489" class="Bound">L&#39;</a> <a id="4492" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4494" href="stlc.safety.html#4494" class="Bound">L→L&#39;</a> <a id="4499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4501" href="stlc.safety.html#4501" class="Bound">—↛L&#39;</a> ← <a id="4508" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="4513" href="stlc.safety.html#4472" class="Bound">if→*V</a> <a id="4519" href="stlc.safety.html#4480" class="Bound">—↛V</a> <a id="4523" class="Symbol">=</a> <a id="4525" href="stlc.safety.html#4489" class="Bound">L&#39;</a> <a id="4528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4530" class="Symbol">(</a><a id="4531" href="stlc.safety.html#4451" class="Bound">L</a> <a id="4533" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="4537" href="stlc.safety.html#4467" class="Bound">VL</a> <a id="4540" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="4542" href="stlc.safety.html#4494" class="Bound">L→L&#39;</a><a id="4546" class="Symbol">)</a> <a id="4548" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4550" href="stlc.safety.html#4501" class="Bound">—↛L&#39;</a>
<a id="4555" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="4560" class="Symbol">((</a><a id="4562" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4565" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="4570" href="stlc.safety.html#4570" class="Bound">M</a> <a id="4572" href="stlc.safety.html#4572" class="Bound">N</a><a id="4573" class="Symbol">)</a> <a id="4575" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="4579" href="stlc.base.html#3187" class="InductiveConstructor">β-if₁</a> <a id="4585" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="4587" href="stlc.safety.html#4587" class="Bound">M→*V</a><a id="4591" class="Symbol">)</a>  <a id="4594" href="stlc.safety.html#4594" class="Bound">—↛V</a> <a id="4598" class="Symbol">=</a> <a id="4600" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="4605" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4607" class="Symbol">(</a><a id="4608" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="4613" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="4614" class="Symbol">)</a> <a id="4616" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4618" class="Symbol">λ</a> <a id="4620" class="Symbol">{</a> <a id="4622" href="stlc.safety.html#4622" class="Bound">x</a> <a id="4624" class="Symbol">()</a> <a id="4627" class="Symbol">}</a>
<a id="4629" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="4634" class="Symbol">((</a><a id="4636" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4639" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="4645" href="stlc.safety.html#4645" class="Bound">M</a> <a id="4647" href="stlc.safety.html#4647" class="Bound">N</a><a id="4648" class="Symbol">)</a> <a id="4650" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="4654" href="stlc.base.html#3253" class="InductiveConstructor">β-if₂</a> <a id="4660" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="4662" href="stlc.safety.html#4662" class="Bound">N→*V</a><a id="4666" class="Symbol">)</a> <a id="4668" href="stlc.safety.html#4668" class="Bound">—↛V</a> <a id="4672" class="Symbol">=</a> <a id="4674" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="4680" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4682" class="Symbol">(</a><a id="4683" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="4689" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="4690" class="Symbol">)</a> <a id="4692" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4694" class="Symbol">λ</a> <a id="4696" class="Symbol">{</a><a id="4697" href="stlc.safety.html#4697" class="Bound">x</a> <a id="4699" class="Symbol">()</a> <a id="4702" class="Symbol">}</a>

<a id="conf—↛join"></a><a id="4705" href="stlc.safety.html#4705" class="Function">conf—↛join</a> <a id="4716" class="Symbol">:</a> <a id="4718" class="Symbol">∀</a> <a id="4720" class="Symbol">{</a><a id="4721" href="stlc.safety.html#4721" class="Bound">L</a> <a id="4723" href="stlc.safety.html#4723" class="Bound">M</a> <a id="4725" href="stlc.safety.html#4725" class="Bound">M&#39;</a><a id="4727" class="Symbol">}</a> <a id="4729" class="Symbol">→</a> <a id="4731" href="stlc.safety.html#4721" class="Bound">L</a> <a id="4733" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="4737" href="stlc.safety.html#4723" class="Bound">M</a> <a id="4739" class="Symbol">→</a> <a id="4741" href="stlc.safety.html#4721" class="Bound">L</a> <a id="4743" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="4747" href="stlc.safety.html#4725" class="Bound">M&#39;</a> <a id="4750" class="Symbol">→</a> <a id="4752" href="stlc.safety.html#722" class="Function Operator">—↛</a> <a id="4755" href="stlc.safety.html#4723" class="Bound">M</a> <a id="4757" class="Symbol">→</a> <a id="4759" href="stlc.safety.html#4725" class="Bound">M&#39;</a> <a id="4762" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="4766" href="stlc.safety.html#4723" class="Bound">M</a>
<a id="4768" href="stlc.safety.html#4705" class="Function">conf—↛join</a> <a id="4779" href="stlc.safety.html#4779" class="Bound">L→*M</a> <a id="4784" href="stlc.safety.html#4784" class="Bound">L→*M&#39;</a> <a id="4790" href="stlc.safety.html#4790" class="Bound">—↛M</a>
  <a id="4796" class="Keyword">with</a> <a id="4801" href="stlc.safety.html#4801" class="Bound">N</a> <a id="4803" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4805" href="stlc.safety.html#4805" class="Bound">M→*N</a> <a id="4810" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4812" href="stlc.safety.html#4812" class="Bound">M&#39;→*N</a> ← <a id="4820" href="stlc.prop.html#4641" class="Function">confluence</a> <a id="4831" href="stlc.safety.html#4779" class="Bound">L→*M</a> <a id="4836" href="stlc.safety.html#4784" class="Bound">L→*M&#39;</a>
  <a id="4844" class="Keyword">with</a> <a id="4849" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="4856" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="4864" href="stlc.safety.html#4805" class="Bound">M→*N</a> <a id="4869" href="stlc.safety.html#4790" class="Bound">—↛M</a>
  <a id="4875" class="Symbol">=</a> <a id="4877" href="stlc.safety.html#4812" class="Bound">M&#39;→*N</a>

<a id="4884" class="Comment">-- fundamental property</a>
<a id="4908" class="Comment">-- syntactic typing implies semantic typing</a>
<a id="⊢-⊨"></a><a id="4952" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="4956" class="Symbol">:</a> <a id="4958" class="Symbol">∀</a> <a id="4960" class="Symbol">{</a><a id="4961" href="stlc.safety.html#4961" class="Bound">Γ</a> <a id="4963" class="Symbol">:</a> <a id="4965" href="stlc.base.html#734" class="Datatype">Context</a> <a id="4973" href="stlc.safety.html#603" class="Generalizable">n</a><a id="4974" class="Symbol">}</a> <a id="4976" class="Symbol">{</a><a id="4977" href="stlc.safety.html#4977" class="Bound">M</a> <a id="4979" href="stlc.safety.html#4979" class="Bound">A</a><a id="4980" class="Symbol">}</a>
  <a id="4984" class="Symbol">→</a> <a id="4986" href="stlc.safety.html#4961" class="Bound">Γ</a> <a id="4988" href="stlc.base.html#1109" class="Datatype Operator">⊢</a> <a id="4990" href="stlc.safety.html#4977" class="Bound">M</a> <a id="4992" href="stlc.base.html#1109" class="Datatype Operator">⦂</a> <a id="4994" href="stlc.safety.html#4979" class="Bound">A</a>
    <a id="5000" class="Comment">----------</a>
  <a id="5013" class="Symbol">→</a> <a id="5015" href="stlc.safety.html#4961" class="Bound">Γ</a> <a id="5017" href="stlc.safety.html#1189" class="Function Operator">⊨</a> <a id="5019" href="stlc.safety.html#4977" class="Bound">M</a> <a id="5021" href="stlc.safety.html#1189" class="Function Operator">⦂</a> <a id="5023" href="stlc.safety.html#4979" class="Bound">A</a>

<a id="5026" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="5030" class="Symbol">{</a><a id="5031" class="Argument">Γ</a> <a id="5033" class="Symbol">=</a> <a id="5035" href="stlc.safety.html#5035" class="Bound">Γ</a> <a id="5037" href="stlc.base.html#779" class="InductiveConstructor Operator">,-</a> <a id="5040" href="stlc.safety.html#5040" class="Bound">B</a><a id="5041" class="Symbol">}</a> <a id="5043" class="Symbol">(</a><a id="5044" href="stlc.base.html#1161" class="InductiveConstructor">⊢var</a> <a id="5049" href="stlc.safety.html#5049" class="Bound">x</a><a id="5050" class="Symbol">)</a> <a id="5052" href="stlc.safety.html#5052" class="Bound">σ</a> <a id="5054" href="stlc.safety.html#5054" class="Bound">GG</a> <a id="5057" href="stlc.safety.html#5057" class="Bound">M&#39;</a> <a id="5060" class="Symbol">(</a><a id="5061" href="stlc.safety.html#5061" class="Bound">M→*M&#39;</a> <a id="5067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5069" href="stlc.safety.html#5069" class="Bound">—↛M&#39;</a><a id="5073" class="Symbol">)</a> <a id="5075" class="Keyword">with</a> <a id="5080" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="5087" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="5095" href="stlc.safety.html#5061" class="Bound">M→*M&#39;</a> <a id="5101" class="Symbol">(</a><a id="5102" href="stlc.safety.html#3340" class="Function">𝒱→—↛</a> <a id="5107" class="Symbol">(</a><a id="5108" href="stlc.safety.html#5054" class="Bound">GG</a> <a id="5111" href="stlc.safety.html#5049" class="Bound">x</a><a id="5112" class="Symbol">))</a> <a id="5115" class="Symbol">=</a> <a id="5117" href="stlc.safety.html#5054" class="Bound">GG</a> <a id="5120" href="stlc.safety.html#5049" class="Bound">x</a>
<a id="5122" href="stlc.safety.html#4952" class="CatchallClause Function">⊢-⊨</a><a id="5125" class="CatchallClause"> </a><a id="5126" class="CatchallClause Symbol">{</a><a id="5127" class="CatchallClause Argument">M</a><a id="5128" class="CatchallClause"> </a><a id="5129" class="CatchallClause Symbol">=</a><a id="5130" class="CatchallClause"> </a><a id="5131" href="stlc.base.html#462" class="CatchallClause InductiveConstructor Operator">ƛ</a><a id="5132" class="CatchallClause"> </a><a id="5133" href="stlc.safety.html#5133" class="CatchallClause Bound">M</a><a id="5134" class="CatchallClause Symbol">}</a><a id="5135" class="CatchallClause"> </a><a id="5136" class="CatchallClause Symbol">{</a><a id="5137" class="CatchallClause Argument">A</a><a id="5138" class="CatchallClause"> </a><a id="5139" class="CatchallClause Symbol">=</a><a id="5140" class="CatchallClause"> </a><a id="5141" href="stlc.safety.html#5141" class="CatchallClause Bound">A</a><a id="5142" class="CatchallClause"> </a><a id="5143" href="stlc.base.html#340" class="CatchallClause InductiveConstructor Operator">⇒</a><a id="5144" class="CatchallClause"> </a><a id="5145" href="stlc.safety.html#5145" class="CatchallClause Bound">B</a><a id="5146" class="CatchallClause Symbol">}</a><a id="5147" class="CatchallClause"> </a><a id="5148" class="CatchallClause Symbol">(</a><a id="5149" href="stlc.base.html#1234" class="CatchallClause InductiveConstructor">⊢abs</a><a id="5153" class="CatchallClause"> </a><a id="5154" href="stlc.safety.html#5154" class="CatchallClause Bound">⊢M</a><a id="5156" class="CatchallClause Symbol">)</a><a id="5157" class="CatchallClause"> </a><a id="5158" href="stlc.safety.html#5158" class="CatchallClause Bound">σ</a><a id="5159" class="CatchallClause"> </a><a id="5160" href="stlc.safety.html#5160" class="CatchallClause Bound">GG</a><a id="5162" class="CatchallClause"> </a><a id="5163" href="stlc.safety.html#5163" class="CatchallClause Bound">M&#39;</a><a id="5165" class="CatchallClause"> </a><a id="5166" class="CatchallClause Symbol">((</a><a id="5168" href="stlc.base.html#462" class="CatchallClause InductiveConstructor Operator">ƛ</a><a id="5169" class="CatchallClause"> </a><a id="5170" href="stlc.safety.html#5170" class="CatchallClause Bound">⟪σ⟫M</a><a id="5174" class="CatchallClause"> </a><a id="5175" href="stlc.base.html#3621" class="CatchallClause InductiveConstructor Operator">∎</a><a id="5176" class="CatchallClause Symbol">)</a><a id="5177" class="CatchallClause"> </a><a id="5178" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5179" class="CatchallClause"> </a><a id="5180" href="stlc.safety.html#5180" class="CatchallClause Bound">—↛M&#39;</a><a id="5184" class="CatchallClause Symbol">)</a><a id="5185" class="CatchallClause"> </a><a id="5186" href="stlc.safety.html#5186" class="CatchallClause Bound">N</a><a id="5187" class="CatchallClause"> </a><a id="5188" href="stlc.safety.html#5188" class="CatchallClause Bound">VN</a><a id="5190" class="CatchallClause"> </a><a id="5191" href="stlc.safety.html#5191" class="CatchallClause Bound">M&#39;&#39;</a><a id="5194" class="CatchallClause"> </a><a id="5195" class="CatchallClause Symbol">(</a><a id="5196" href="stlc.safety.html#5196" class="CatchallClause Bound">MN→M&#39;</a><a id="5201" class="CatchallClause"> </a><a id="5202" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5203" class="CatchallClause"> </a><a id="5204" href="stlc.safety.html#5204" class="CatchallClause Bound">—↛M&#39;&#39;</a><a id="5209" class="CatchallClause Symbol">)</a>
  <a id="5213" class="Symbol">=</a> <a id="5215" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="5219" href="stlc.safety.html#5154" class="Bound">⊢M</a> <a id="5222" class="Symbol">(</a><a id="5223" href="stlc.safety.html#5186" class="Bound">N</a> <a id="5225" href="stlc.subst.html#1080" class="Function Operator">•</a> <a id="5227" href="stlc.safety.html#5158" class="Bound">σ</a><a id="5228" class="Symbol">)</a> <a id="5230" class="Symbol">(λ</a> <a id="5233" class="Symbol">{</a> <a id="5235" href="stlc.base.html#906" class="InductiveConstructor">Z</a> <a id="5237" class="Symbol">→</a> <a id="5239" href="stlc.safety.html#5188" class="Bound">VN</a> <a id="5242" class="Symbol">;</a> <a id="5244" class="Symbol">(</a><a id="5245" href="stlc.base.html#986" class="InductiveConstructor">S</a> <a id="5247" href="stlc.safety.html#5247" class="Bound">x</a><a id="5248" class="Symbol">)</a> <a id="5250" class="Symbol">→</a> <a id="5252" href="stlc.safety.html#5160" class="Bound">GG</a> <a id="5255" href="stlc.safety.html#5247" class="Bound">x</a> <a id="5257" class="Symbol">})</a> <a id="5260" href="stlc.safety.html#5191" class="Bound">M&#39;&#39;</a> <a id="5264" class="Symbol">(</a><a id="5265" href="stlc.safety.html#5298" class="Function">⟪N•σ⟫M→*M&#39;&#39;</a> <a id="5277" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5279" href="stlc.safety.html#5204" class="Bound">—↛M&#39;&#39;</a><a id="5284" class="Symbol">)</a>
  <a id="5288" class="Keyword">where</a>
    <a id="5298" href="stlc.safety.html#5298" class="Function">⟪N•σ⟫M→*M&#39;&#39;</a> <a id="5310" class="Symbol">:</a> <a id="5312" href="stlc.base.html#2301" class="Function">subst</a> <a id="5318" class="Symbol">(</a><a id="5319" href="stlc.safety.html#5186" class="Bound">N</a> <a id="5321" href="stlc.subst.html#1080" class="Function Operator">•</a> <a id="5323" href="stlc.safety.html#5158" class="Bound">σ</a><a id="5324" class="Symbol">)</a> <a id="5326" href="stlc.safety.html#5133" class="Bound">M</a> <a id="5328" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="5332" href="stlc.safety.html#5191" class="Bound">M&#39;&#39;</a>
    <a id="5340" href="stlc.safety.html#5298" class="Function">⟪N•σ⟫M→*M&#39;&#39;</a> <a id="5352" class="Keyword">rewrite</a> <a id="5360" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">Eq.sym</a> <a id="5367" class="Symbol">(</a><a id="5368" href="stlc.subst.html#14672" class="Function">sub-ext-sub</a> <a id="5380" class="Symbol">{</a><a id="5381" class="Argument">σ</a> <a id="5383" class="Symbol">=</a> <a id="5385" href="stlc.safety.html#5158" class="Bound">σ</a><a id="5386" class="Symbol">}</a> <a id="5388" class="Symbol">{</a><a id="5389" class="Argument">M</a> <a id="5391" class="Symbol">=</a> <a id="5393" href="stlc.safety.html#5133" class="Bound">M</a><a id="5394" class="Symbol">}</a> <a id="5396" class="Symbol">{</a><a id="5397" class="Argument">N</a> <a id="5399" class="Symbol">=</a> <a id="5401" href="stlc.safety.html#5186" class="Bound">N</a><a id="5402" class="Symbol">})</a> <a id="5405" class="Symbol">=</a> <a id="5407" href="stlc.safety.html#5196" class="Bound">MN→M&#39;</a>
<a id="5413" href="stlc.safety.html#4952" class="CatchallClause Function">⊢-⊨</a><a id="5416" class="CatchallClause"> </a><a id="5417" class="CatchallClause Symbol">{</a><a id="5418" class="CatchallClause Argument">M</a><a id="5419" class="CatchallClause"> </a><a id="5420" class="CatchallClause Symbol">=</a><a id="5421" class="CatchallClause"> </a><a id="5422" href="stlc.safety.html#5422" class="CatchallClause Bound">M</a><a id="5423" class="CatchallClause"> </a><a id="5424" href="stlc.base.html#494" class="CatchallClause InductiveConstructor Operator">·</a><a id="5425" class="CatchallClause"> </a><a id="5426" href="stlc.safety.html#5426" class="CatchallClause Bound">N</a><a id="5427" class="CatchallClause Symbol">}</a><a id="5428" class="CatchallClause"> </a><a id="5429" class="CatchallClause Symbol">(</a><a id="5430" href="stlc.base.html#1322" class="CatchallClause InductiveConstructor">⊢app</a><a id="5434" class="CatchallClause"> </a><a id="5435" class="CatchallClause Symbol">{</a><a id="5436" class="CatchallClause Argument">A</a><a id="5437" class="CatchallClause"> </a><a id="5438" class="CatchallClause Symbol">=</a><a id="5439" class="CatchallClause"> </a><a id="5440" href="stlc.safety.html#5440" class="CatchallClause Bound">A</a><a id="5441" class="CatchallClause Symbol">}</a><a id="5442" class="CatchallClause"> </a><a id="5443" class="CatchallClause Symbol">{</a><a id="5444" class="CatchallClause Argument">B</a><a id="5445" class="CatchallClause"> </a><a id="5446" class="CatchallClause Symbol">=</a><a id="5447" class="CatchallClause"> </a><a id="5448" href="stlc.safety.html#5448" class="CatchallClause Bound">B</a><a id="5449" class="CatchallClause Symbol">}</a><a id="5450" class="CatchallClause"> </a><a id="5451" href="stlc.safety.html#5451" class="CatchallClause Bound">⊢M</a><a id="5453" class="CatchallClause"> </a><a id="5454" href="stlc.safety.html#5454" class="CatchallClause Bound">⊢N</a><a id="5456" class="CatchallClause Symbol">)</a><a id="5457" class="CatchallClause"> </a><a id="5458" href="stlc.safety.html#5458" class="CatchallClause Bound">σ</a><a id="5459" class="CatchallClause"> </a><a id="5460" href="stlc.safety.html#5460" class="CatchallClause Bound">GG</a><a id="5462" class="CatchallClause"> </a><a id="5463" href="stlc.safety.html#5463" class="CatchallClause Bound">M&#39;</a><a id="5465" class="CatchallClause"> </a><a id="5466" class="CatchallClause Symbol">(</a><a id="5467" href="stlc.safety.html#5467" class="CatchallClause Bound">M→*M&#39;</a><a id="5472" class="CatchallClause"> </a><a id="5473" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5474" class="CatchallClause"> </a><a id="5475" href="stlc.safety.html#5475" class="CatchallClause Bound">—↛M&#39;</a><a id="5479" class="CatchallClause Symbol">)</a>
  <a id="5483" class="Keyword">with</a> <a id="5488" href="stlc.safety.html#5488" class="Bound">M₁</a> <a id="5491" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5493" href="stlc.safety.html#5493" class="Bound">σM→M₁</a> <a id="5499" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5501" href="stlc.safety.html#5501" class="Bound">—↛M₁</a> ← <a id="5508" href="stlc.safety.html#3456" class="Function">appL—↛</a> <a id="5515" href="stlc.safety.html#5467" class="Bound">M→*M&#39;</a> <a id="5521" href="stlc.safety.html#5475" class="Bound">—↛M&#39;</a>
  <a id="5528" class="Keyword">with</a> <a id="5533" href="stlc.safety.html#5533" class="Bound">VM</a> ← <a id="5538" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="5542" href="stlc.safety.html#5451" class="Bound">⊢M</a> <a id="5545" href="stlc.safety.html#5458" class="Bound">σ</a> <a id="5547" href="stlc.safety.html#5460" class="Bound">GG</a> <a id="5550" href="stlc.safety.html#5488" class="Bound">M₁</a> <a id="5553" class="Symbol">(</a><a id="5554" href="stlc.safety.html#5493" class="Bound">σM→M₁</a> <a id="5560" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5562" href="stlc.safety.html#5501" class="Bound">—↛M₁</a><a id="5566" class="Symbol">)</a>
  <a id="5570" class="Keyword">with</a> <a id="5575" href="stlc.safety.html#5575" class="Bound">M₁&#39;</a> <a id="5579" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5581" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="5588" href="stlc.safety.html#2844" class="Function">𝒱⟦⇒⟧-Canonical</a> <a id="5603" href="stlc.safety.html#5533" class="Bound">VM</a>
  <a id="5608" class="Keyword">with</a> <a id="5613" href="stlc.safety.html#5613" class="Bound">M₁·σN→*M&#39;</a> ← <a id="5625" href="stlc.safety.html#4705" class="Function">conf—↛join</a> <a id="5636" href="stlc.safety.html#5467" class="Bound">M→*M&#39;</a> <a id="5642" class="Symbol">(</a><a id="5643" href="stlc.prop.html#4275" class="Function">—→*-trans</a> <a id="5653" class="Symbol">(</a><a id="5654" href="stlc.prop.html#5329" class="Function">appL-cong</a> <a id="5664" href="stlc.safety.html#5493" class="Bound">σM→M₁</a><a id="5669" class="Symbol">)</a> <a id="5671" class="Symbol">(</a><a id="5672" href="stlc.safety.html#5488" class="Bound">M₁</a> <a id="5675" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="5677" href="stlc.base.html#2301" class="Function">subst</a> <a id="5683" href="stlc.safety.html#5458" class="Bound">σ</a> <a id="5685" href="stlc.safety.html#5426" class="Bound">N</a> <a id="5687" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="5688" class="Symbol">))</a> <a id="5691" href="stlc.safety.html#5475" class="Bound">—↛M&#39;</a>
  <a id="5698" class="Keyword">with</a> <a id="5703" href="stlc.safety.html#5703" class="Bound">N₁</a> <a id="5706" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5708" href="stlc.safety.html#5708" class="Bound">σN→N₁</a> <a id="5714" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5716" href="stlc.safety.html#5716" class="Bound">—↛N₁</a> ← <a id="5723" href="stlc.safety.html#3894" class="Function">appR—↛</a> <a id="5730" href="stlc.safety.html#5613" class="Bound">M₁·σN→*M&#39;</a> <a id="5740" href="stlc.safety.html#5475" class="Bound">—↛M&#39;</a>
  <a id="5747" class="Keyword">with</a> <a id="5752" href="stlc.safety.html#5752" class="Bound">VN</a> ← <a id="5757" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="5761" href="stlc.safety.html#5454" class="Bound">⊢N</a> <a id="5764" href="stlc.safety.html#5458" class="Bound">σ</a> <a id="5766" href="stlc.safety.html#5460" class="Bound">GG</a> <a id="5769" href="stlc.safety.html#5703" class="Bound">N₁</a> <a id="5772" class="Symbol">(</a><a id="5773" href="stlc.safety.html#5708" class="Bound">σN→N₁</a> <a id="5779" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5781" href="stlc.safety.html#5716" class="Bound">—↛N₁</a><a id="5785" class="Symbol">)</a>
  <a id="5789" class="Keyword">with</a> <a id="5794" href="stlc.safety.html#5794" class="Bound">M₁[N₁]→*M₂</a> ← <a id="5807" href="stlc.safety.html#4705" class="Function">conf—↛join</a> <a id="5818" href="stlc.safety.html#5467" class="Bound">M→*M&#39;</a>
       <a id="5831" class="Symbol">(</a><a id="5832" href="stlc.prop.html#4275" class="Function">—→*-trans</a> <a id="5842" class="Symbol">(</a><a id="5843" href="stlc.prop.html#5329" class="Function">appL-cong</a> <a id="5853" href="stlc.safety.html#5493" class="Bound">σM→M₁</a><a id="5858" class="Symbol">)</a>
         <a id="5869" class="Symbol">(</a><a id="5870" href="stlc.prop.html#4275" class="Function">—→*-trans</a> <a id="5880" class="Symbol">(</a><a id="5881" href="stlc.prop.html#5539" class="Function">appR-cong</a> <a id="5891" href="stlc.safety.html#5708" class="Bound">σN→N₁</a><a id="5896" class="Symbol">)</a> <a id="5898" class="Symbol">(_</a> <a id="5901" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="5905" href="stlc.base.html#3005" class="InductiveConstructor">β-abs</a> <a id="5911" class="Symbol">(</a><a id="5912" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="5916" href="stlc.safety.html#5752" class="Bound">VN</a><a id="5918" class="Symbol">)</a> <a id="5920" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="5922" class="Symbol">(</a><a id="5923" href="stlc.safety.html#5575" class="Bound">M₁&#39;</a> <a id="5927" href="stlc.base.html#2684" class="Function Operator">[</a> <a id="5929" href="stlc.safety.html#5703" class="Bound">N₁</a> <a id="5932" href="stlc.base.html#2684" class="Function Operator">]</a><a id="5933" class="Symbol">)</a> <a id="5935" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="5936" class="Symbol">)))</a> <a id="5940" href="stlc.safety.html#5475" class="Bound">—↛M&#39;</a>
  <a id="5947" class="Symbol">=</a> <a id="5949" href="stlc.safety.html#5533" class="Bound">VM</a> <a id="5952" href="stlc.safety.html#5703" class="Bound">N₁</a> <a id="5955" href="stlc.safety.html#5752" class="Bound">VN</a> <a id="5958" href="stlc.safety.html#5463" class="Bound">M&#39;</a> <a id="5961" class="Symbol">(</a><a id="5962" href="stlc.safety.html#5794" class="Bound">M₁[N₁]→*M₂</a> <a id="5973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5975" href="stlc.safety.html#5475" class="Bound">—↛M&#39;</a><a id="5979" class="Symbol">)</a>
<a id="5981" href="stlc.safety.html#4952" class="CatchallClause Function">⊢-⊨</a><a id="5984" class="CatchallClause"> </a><a id="5985" href="stlc.base.html#1423" class="CatchallClause InductiveConstructor">⊢true</a><a id="5990" class="CatchallClause">  </a><a id="5992" href="stlc.safety.html#5992" class="CatchallClause Bound">σ</a><a id="5993" class="CatchallClause"> </a><a id="5994" href="stlc.safety.html#5994" class="CatchallClause Bound">GG</a><a id="5996" class="CatchallClause"> </a><a id="5997" href="stlc.safety.html#5997" class="CatchallClause Bound">M&#39;</a><a id="5999" class="CatchallClause"> </a><a id="6000" class="CatchallClause Symbol">(</a><a id="6001" href="stlc.safety.html#6001" class="CatchallClause Bound">M→*M&#39;</a><a id="6006" class="CatchallClause"> </a><a id="6007" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="6008" class="CatchallClause"> </a><a id="6009" href="stlc.safety.html#6009" class="CatchallClause Bound">—↛M&#39;</a><a id="6013" class="CatchallClause Symbol">)</a> <a id="6015" class="Keyword">with</a> <a id="6020" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="6027" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="6035" href="stlc.safety.html#6001" class="Bound">M→*M&#39;</a> <a id="6041" class="Symbol">(λ</a> <a id="6044" class="Symbol">{</a> <a id="6046" class="Symbol">_</a> <a id="6048" class="Symbol">()</a> <a id="6051" class="Symbol">})</a> <a id="6054" class="Symbol">=</a> <a id="6056" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="6059" href="stlc.safety.html#4952" class="CatchallClause Function">⊢-⊨</a><a id="6062" class="CatchallClause"> </a><a id="6063" href="stlc.base.html#1485" class="CatchallClause InductiveConstructor">⊢false</a><a id="6069" class="CatchallClause"> </a><a id="6070" href="stlc.safety.html#6070" class="CatchallClause Bound">σ</a><a id="6071" class="CatchallClause"> </a><a id="6072" href="stlc.safety.html#6072" class="CatchallClause Bound">GG</a><a id="6074" class="CatchallClause"> </a><a id="6075" href="stlc.safety.html#6075" class="CatchallClause Bound">M&#39;</a><a id="6077" class="CatchallClause"> </a><a id="6078" class="CatchallClause Symbol">(</a><a id="6079" href="stlc.safety.html#6079" class="CatchallClause Bound">M→*M&#39;</a><a id="6084" class="CatchallClause"> </a><a id="6085" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="6086" class="CatchallClause"> </a><a id="6087" href="stlc.safety.html#6087" class="CatchallClause Bound">—↛M&#39;</a><a id="6091" class="CatchallClause Symbol">)</a> <a id="6093" class="Keyword">with</a> <a id="6098" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="6105" href="stlc.safety.html#2945" class="Function">—↛-M→*M</a> <a id="6113" href="stlc.safety.html#6079" class="Bound">M→*M&#39;</a> <a id="6119" class="Symbol">(λ</a> <a id="6122" class="Symbol">{</a> <a id="6124" class="Symbol">_</a> <a id="6126" class="Symbol">()</a> <a id="6129" class="Symbol">})</a> <a id="6132" class="Symbol">=</a> <a id="6134" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="6137" href="stlc.safety.html#4952" class="CatchallClause Function">⊢-⊨</a><a id="6140" class="CatchallClause"> </a><a id="6141" class="CatchallClause Symbol">{</a><a id="6142" class="CatchallClause Argument">M</a><a id="6143" class="CatchallClause"> </a><a id="6144" class="CatchallClause Symbol">=</a><a id="6145" class="CatchallClause"> </a><a id="6146" href="stlc.base.html#563" class="CatchallClause InductiveConstructor">if</a><a id="6148" class="CatchallClause"> </a><a id="6149" href="stlc.safety.html#6149" class="CatchallClause Bound">L</a><a id="6150" class="CatchallClause"> </a><a id="6151" href="stlc.safety.html#6151" class="CatchallClause Bound">M</a><a id="6152" class="CatchallClause"> </a><a id="6153" href="stlc.safety.html#6153" class="CatchallClause Bound">N</a><a id="6154" class="CatchallClause Symbol">}</a><a id="6155" class="CatchallClause"> </a><a id="6156" class="CatchallClause Symbol">(</a><a id="6157" href="stlc.base.html#1550" class="CatchallClause InductiveConstructor">⊢if</a><a id="6160" class="CatchallClause"> </a><a id="6161" href="stlc.safety.html#6161" class="CatchallClause Bound">⊢L</a><a id="6163" class="CatchallClause"> </a><a id="6164" href="stlc.safety.html#6164" class="CatchallClause Bound">⊢M</a><a id="6166" class="CatchallClause"> </a><a id="6167" href="stlc.safety.html#6167" class="CatchallClause Bound">⊢N</a><a id="6169" class="CatchallClause Symbol">)</a><a id="6170" class="CatchallClause"> </a><a id="6171" href="stlc.safety.html#6171" class="CatchallClause Bound">σ</a><a id="6172" class="CatchallClause"> </a><a id="6173" href="stlc.safety.html#6173" class="CatchallClause Bound">GG</a><a id="6175" class="CatchallClause"> </a><a id="6176" href="stlc.safety.html#6176" class="CatchallClause Bound">M&#39;</a><a id="6178" class="CatchallClause"> </a><a id="6179" class="CatchallClause Symbol">(</a><a id="6180" href="stlc.safety.html#6180" class="CatchallClause Bound">M→*M&#39;</a><a id="6185" class="CatchallClause"> </a><a id="6186" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="6187" class="CatchallClause"> </a><a id="6188" href="stlc.safety.html#6188" class="CatchallClause Bound">—↛M&#39;</a><a id="6192" class="CatchallClause Symbol">)</a>
  <a id="6196" class="Keyword">with</a> <a id="6201" href="stlc.safety.html#6201" class="Bound">L&#39;</a> <a id="6204" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6206" href="stlc.safety.html#6206" class="Bound">σL→L&#39;</a> <a id="6212" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6214" href="stlc.safety.html#6214" class="Bound">–↛L&#39;</a> ← <a id="6221" href="stlc.safety.html#4274" class="Function">if—↛</a> <a id="6226" href="stlc.safety.html#6180" class="Bound">M→*M&#39;</a> <a id="6232" href="stlc.safety.html#6188" class="Bound">—↛M&#39;</a>
  <a id="6239" class="Keyword">with</a> <a id="6244" href="stlc.safety.html#2690" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="6262" class="Symbol">(</a><a id="6263" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="6267" href="stlc.safety.html#6161" class="Bound">⊢L</a> <a id="6270" href="stlc.safety.html#6171" class="Bound">σ</a> <a id="6272" href="stlc.safety.html#6173" class="Bound">GG</a> <a id="6275" href="stlc.safety.html#6201" class="Bound">L&#39;</a> <a id="6278" class="Symbol">(</a><a id="6279" href="stlc.safety.html#6206" class="Bound">σL→L&#39;</a> <a id="6285" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6287" href="stlc.safety.html#6214" class="Bound">–↛L&#39;</a><a id="6291" class="Symbol">))</a>
<a id="6294" class="Symbol">...</a> <a id="6298" class="Symbol">|</a> <a id="6300" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6305" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6310" class="Symbol">=</a> <a id="6312" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="6316" class="Bound">⊢M</a> <a id="6319" class="Bound">σ</a> <a id="6321" class="Bound">GG</a> <a id="6324" class="Bound">M&#39;</a>
      <a id="6333" class="Symbol">(</a><a id="6334" href="stlc.safety.html#4705" class="Function">conf—↛join</a> <a id="6345" class="Bound">M→*M&#39;</a> <a id="6351" class="Symbol">(</a><a id="6352" href="stlc.prop.html#4275" class="Function">—→*-trans</a> <a id="6362" class="Symbol">(</a><a id="6363" href="stlc.prop.html#5108" class="Function">if-cong</a> <a id="6371" href="stlc.safety.html#6206" class="Bound">σL→L&#39;</a><a id="6376" class="Symbol">)</a> <a id="6378" class="Symbol">(_</a> <a id="6381" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="6385" href="stlc.base.html#3187" class="InductiveConstructor">β-if₁</a> <a id="6391" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="6393" href="stlc.base.html#2301" class="Function">subst</a> <a id="6399" class="Bound">σ</a> <a id="6401" class="Bound">M</a> <a id="6403" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="6404" class="Symbol">))</a> <a id="6407" class="Bound">—↛M&#39;</a> <a id="6412" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6414" class="Bound">—↛M&#39;</a><a id="6418" class="Symbol">)</a>
<a id="6420" class="Symbol">...</a> <a id="6424" class="Symbol">|</a> <a id="6426" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6431" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6436" class="Symbol">=</a> <a id="6438" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="6442" class="Bound">⊢N</a> <a id="6445" class="Bound">σ</a> <a id="6447" class="Bound">GG</a> <a id="6450" class="Bound">M&#39;</a>
      <a id="6459" class="Symbol">(</a><a id="6460" href="stlc.safety.html#4705" class="Function">conf—↛join</a> <a id="6471" class="Bound">M→*M&#39;</a> <a id="6477" class="Symbol">(</a><a id="6478" href="stlc.prop.html#4275" class="Function">—→*-trans</a> <a id="6488" class="Symbol">(</a><a id="6489" href="stlc.prop.html#5108" class="Function">if-cong</a> <a id="6497" href="stlc.safety.html#6206" class="Bound">σL→L&#39;</a><a id="6502" class="Symbol">)</a> <a id="6504" class="Symbol">(_</a> <a id="6507" href="stlc.base.html#3645" class="InductiveConstructor Operator">—→⟨</a> <a id="6511" href="stlc.base.html#3253" class="InductiveConstructor">β-if₂</a> <a id="6517" href="stlc.base.html#3645" class="InductiveConstructor Operator">⟩</a> <a id="6519" href="stlc.base.html#2301" class="Function">subst</a> <a id="6525" class="Bound">σ</a> <a id="6527" class="Bound">N</a> <a id="6529" href="stlc.base.html#3621" class="InductiveConstructor Operator">∎</a><a id="6530" class="Symbol">))</a> <a id="6533" class="Bound">—↛M&#39;</a> <a id="6538" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6540" class="Bound">—↛M&#39;</a><a id="6544" class="Symbol">)</a>

<a id="6547" class="Comment">-- adequacy</a>
<a id="6559" class="Comment">-- semantically well typed term is safe</a>
<a id="⊨safe"></a><a id="6599" href="stlc.safety.html#6599" class="Function">⊨safe</a> <a id="6605" class="Symbol">:</a> <a id="6607" class="Symbol">∀</a> <a id="6609" class="Symbol">{</a><a id="6610" href="stlc.safety.html#6610" class="Bound">M</a> <a id="6612" href="stlc.safety.html#6612" class="Bound">A</a><a id="6613" class="Symbol">}</a> <a id="6615" class="Symbol">→</a> <a id="6617" href="stlc.base.html#760" class="InductiveConstructor">∅</a> <a id="6619" href="stlc.safety.html#1189" class="Function Operator">⊨</a> <a id="6621" href="stlc.safety.html#6610" class="Bound">M</a> <a id="6623" href="stlc.safety.html#1189" class="Function Operator">⦂</a> <a id="6625" href="stlc.safety.html#6612" class="Bound">A</a> <a id="6627" class="Symbol">→</a> <a id="6629" href="stlc.safety.html#612" class="Function">Safe</a> <a id="6634" href="stlc.safety.html#6610" class="Bound">M</a>
<a id="6636" href="stlc.safety.html#6599" class="Function">⊨safe</a> <a id="6642" class="Symbol">{</a><a id="6643" class="Argument">M</a> <a id="6645" class="Symbol">=</a> <a id="6647" href="stlc.safety.html#6647" class="Bound">M</a><a id="6648" class="Symbol">}</a> <a id="6650" href="stlc.safety.html#6650" class="Bound">⊨M</a> <a id="6653" href="stlc.safety.html#6653" class="Bound">M&#39;</a> <a id="6656" href="stlc.safety.html#6656" class="Bound">M→*M&#39;</a> <a id="6662" class="Keyword">with</a> <a id="6667" href="stlc.safety.html#1466" class="Function">reducible?</a> <a id="6678" href="stlc.safety.html#6653" class="Bound">M&#39;</a>
<a id="6681" class="Symbol">...</a> <a id="6685" class="Symbol">|</a> <a id="6687" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6691" href="stlc.safety.html#6691" class="Bound">M&#39;→M&#39;&#39;</a> <a id="6698" class="Symbol">=</a> <a id="6700" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6705" href="stlc.safety.html#6691" class="Bound">M&#39;→M&#39;&#39;</a>
<a id="6712" class="Symbol">...</a> <a id="6716" class="Symbol">|</a> <a id="6718" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="6722" href="stlc.safety.html#6722" class="Bound">—↛M&#39;</a>   <a id="6729" class="Symbol">=</a> <a id="6731" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6736" class="Symbol">(</a><a id="6737" href="stlc.safety.html#3184" class="Function">𝒱-V</a> <a id="6741" class="Symbol">(</a><a id="6742" class="Bound">⊨M</a> <a id="6745" href="stlc.subst.html#1001" class="Function">ids</a> <a id="6749" class="Symbol">(λ</a> <a id="6752" class="Symbol">())</a> <a id="6756" class="Bound">M&#39;</a> <a id="6759" class="Symbol">(</a><a id="6760" href="stlc.safety.html#6811" class="Function">⟪id⟫M→*M</a> <a id="6769" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6771" class="Symbol">λ</a> <a id="6773" href="stlc.safety.html#6773" class="Bound">M&#39;&#39;</a> <a id="6777" href="stlc.safety.html#6777" class="Bound">z</a> <a id="6779" class="Symbol">→</a> <a id="6781" href="stlc.safety.html#6722" class="Bound">—↛M&#39;</a> <a id="6786" class="Symbol">(</a><a id="6787" href="stlc.safety.html#6773" class="Bound">M&#39;&#39;</a> <a id="6791" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6793" href="stlc.safety.html#6777" class="Bound">z</a><a id="6794" class="Symbol">))))</a>
  <a id="6801" class="Keyword">where</a>
    <a id="6811" href="stlc.safety.html#6811" class="Function">⟪id⟫M→*M</a> <a id="6820" class="Symbol">:</a> <a id="6822" href="stlc.base.html#2301" class="Function">subst</a> <a id="6828" href="stlc.subst.html#1001" class="Function">ids</a> <a id="6832" class="Bound">M</a> <a id="6834" href="stlc.base.html#3340" class="Datatype Operator">—→*</a> <a id="6838" class="Bound">M&#39;</a>
    <a id="6845" href="stlc.safety.html#6811" class="Function">⟪id⟫M→*M</a> <a id="6854" class="Symbol">=</a> <a id="6856" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">Eq.subst</a> <a id="6865" class="Symbol">(</a><a id="6866" href="stlc.base.html#3340" class="Datatype Operator">_—→*</a> <a id="6871" class="Bound">M&#39;</a><a id="6873" class="Symbol">)</a> <a id="6875" class="Symbol">(</a><a id="6876" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">Eq.sym</a> <a id="6883" href="stlc.subst.html#7112" class="Function">sub-id</a><a id="6889" class="Symbol">)</a> <a id="6891" class="Bound">M→*M&#39;</a>

<a id="safety"></a><a id="6898" href="stlc.safety.html#6898" class="Function">safety</a> <a id="6905" class="Symbol">:</a> <a id="6907" class="Symbol">∀</a> <a id="6909" class="Symbol">{</a><a id="6910" href="stlc.safety.html#6910" class="Bound">M</a> <a id="6912" href="stlc.safety.html#6912" class="Bound">A</a><a id="6913" class="Symbol">}</a> <a id="6915" class="Symbol">→</a> <a id="6917" href="stlc.base.html#760" class="InductiveConstructor">∅</a> <a id="6919" href="stlc.base.html#1109" class="Datatype Operator">⊢</a> <a id="6921" href="stlc.safety.html#6910" class="Bound">M</a> <a id="6923" href="stlc.base.html#1109" class="Datatype Operator">⦂</a> <a id="6925" href="stlc.safety.html#6912" class="Bound">A</a> <a id="6927" class="Symbol">→</a> <a id="6929" href="stlc.safety.html#612" class="Function">Safe</a> <a id="6934" href="stlc.safety.html#6910" class="Bound">M</a>
<a id="6936" href="stlc.safety.html#6898" class="Function">safety</a> <a id="6943" href="stlc.safety.html#6943" class="Bound">⊢M</a> <a id="6946" class="Symbol">=</a> <a id="6948" href="stlc.safety.html#6599" class="Function">⊨safe</a> <a id="6954" class="Symbol">(</a><a id="6955" href="stlc.safety.html#4952" class="Function">⊢-⊨</a> <a id="6959" href="stlc.safety.html#6943" class="Bound">⊢M</a><a id="6961" class="Symbol">)</a>
</pre></body></html>