<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>stlc.safety</title><link rel="stylesheet" href="../static/Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="stlc.safety.html" class="Module">stlc.safety</a> <a id="20" class="Keyword">where</a>

<a id="27" class="Keyword">open</a> <a id="32" class="Keyword">import</a> <a id="39" href="stlc.base.html" class="Module">stlc.base</a>
<a id="49" class="Keyword">open</a> <a id="54" class="Keyword">import</a> <a id="61" href="stlc.prop.html" class="Module">stlc.prop</a>
<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="stlc.subst.html" class="Module">stlc.subst</a>

<a id="95" class="Keyword">import</a> <a id="102" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="140" class="Symbol">as</a> <a id="143" class="Module">Eq</a>
<a id="146" class="Keyword">open</a> <a id="151" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="154" class="Keyword">using</a> <a id="160" class="Symbol">(</a><a id="161" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">_≡_</a><a id="164" class="Symbol">;</a> <a id="166" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a><a id="170" class="Symbol">)</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="193" class="Keyword">using</a> <a id="199" class="Symbol">(</a><a id="200" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="201" class="Symbol">;</a> <a id="203" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a><a id="207" class="Symbol">;</a> <a id="209" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="212" class="Symbol">)</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="235" class="Keyword">using</a> <a id="241" class="Symbol">(</a><a id="242" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a><a id="245" class="Symbol">)</a> <a id="247" class="Keyword">renaming</a> <a id="256" class="Symbol">(</a><a id="257" href="Data.Fin.Base.html#1181" class="InductiveConstructor">zero</a> <a id="262" class="Symbol">to</a> <a id="265" class="InductiveConstructor">fz</a><a id="267" class="Symbol">;</a> <a id="269" href="Data.Fin.Base.html#1202" class="InductiveConstructor">suc</a> <a id="273" class="Symbol">to</a> <a id="276" class="InductiveConstructor">fs</a><a id="278" class="Symbol">)</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Data.Product.html" class="Module">Data.Product</a> <a id="305" class="Keyword">using</a> <a id="311" class="Symbol">(</a><a id="312" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="315" class="Symbol">;</a> <a id="317" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">_,_</a><a id="320" class="Symbol">;</a> <a id="322" href="Data.Product.Base.html#1371" class="Function">∃-syntax</a><a id="330" class="Symbol">;</a> <a id="332" href="Data.Product.Base.html#1244" class="Function">Σ-syntax</a><a id="340" class="Symbol">)</a>
<a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="363" class="Keyword">using</a> <a id="369" class="Symbol">(</a><a id="370" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="373" class="Symbol">;</a> <a id="375" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a><a id="379" class="Symbol">;</a> <a id="381" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a><a id="385" class="Symbol">)</a> <a id="387" class="Keyword">renaming</a> <a id="396" class="Symbol">(</a><a id="397" href="Data.Sum.Base.html#811" class="Function Operator">[_,_]</a> <a id="403" class="Symbol">to</a> <a id="406" class="Function Operator">case-⊎</a><a id="412" class="Symbol">)</a>
<a id="414" class="Keyword">open</a> <a id="419" class="Keyword">import</a> <a id="426" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="443" class="Keyword">using</a> <a id="449" class="Symbol">(</a><a id="450" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬_</a><a id="452" class="Symbol">;</a> <a id="454" href="Relation.Nullary.Negation.Core.html#1270" class="Function">contradiction</a><a id="467" class="Symbol">;</a> <a id="469" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a><a id="472" class="Symbol">;</a> <a id="474" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a><a id="477" class="Symbol">;</a> <a id="479" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a><a id="481" class="Symbol">)</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="506" class="Keyword">using</a> <a id="512" class="Symbol">(</a><a id="513" href="Data.Empty.html#914" class="Function">⊥</a><a id="514" class="Symbol">;</a> <a id="516" href="Data.Empty.html#1069" class="Function">⊥-elim</a><a id="522" class="Symbol">)</a>
<a id="524" class="Keyword">open</a> <a id="529" class="Keyword">import</a> <a id="536" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="546" class="Keyword">using</a> <a id="552" class="Symbol">(</a><a id="553" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="554" class="Symbol">;</a> <a id="556" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="558" class="Symbol">)</a>

<a id="561" class="Keyword">private</a>
  <a id="571" class="Keyword">variable</a>
    <a id="584" href="stlc.safety.html#584" class="Generalizable">n</a> <a id="586" href="stlc.safety.html#586" class="Generalizable">m</a> <a id="588" class="Symbol">:</a> <a id="590" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

<a id="593" class="Keyword">open</a> <a id="598" href="stlc.base.html#2074" class="Module">typing</a>
<a id="605" class="Keyword">open</a> <a id="610" href="stlc.base.html#2747" class="Module">smallstep</a>
<a id="620" class="Keyword">open</a> <a id="625" href="stlc.base.html#3497" class="Module">multistep</a>

<a id="Safe"></a><a id="636" href="stlc.safety.html#636" class="Function">Safe</a> <a id="641" class="Symbol">:</a> <a id="643" href="stlc.base.html#410" class="Datatype">Term</a> <a id="648" class="Number">0</a> <a id="650" class="Symbol">→</a> <a id="652" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="656" href="stlc.safety.html#636" class="Function">Safe</a> <a id="661" href="stlc.safety.html#661" class="Bound">M</a> <a id="663" class="Symbol">=</a> <a id="665" class="Symbol">∀</a> <a id="667" href="stlc.safety.html#667" class="Bound">M&#39;</a> <a id="670" class="Symbol">→</a> <a id="672" href="stlc.safety.html#661" class="Bound">M</a> <a id="674" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="678" href="stlc.safety.html#667" class="Bound">M&#39;</a> <a id="681" class="Symbol">→</a> <a id="683" href="stlc.base.html#2787" class="Datatype">Value</a> <a id="689" href="stlc.safety.html#667" class="Bound">M&#39;</a> <a id="692" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="694" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="697" href="stlc.safety.html#697" class="Bound">N</a> <a id="699" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="701" class="Symbol">(</a><a id="702" href="stlc.safety.html#667" class="Bound">M&#39;</a> <a id="705" href="stlc.base.html#2911" class="Datatype Operator">—→</a> <a id="708" href="stlc.safety.html#697" class="Bound">N</a><a id="709" class="Symbol">)</a>

<a id="712" class="Keyword">infix</a>  <a id="719" class="Number">6</a> <a id="721" href="stlc.safety.html#746" class="Function Operator">—↛_</a>

<a id="726" class="Comment">-- irreducible term</a>
<a id="—↛_"></a><a id="746" href="stlc.safety.html#746" class="Function Operator">—↛_</a> <a id="750" class="Symbol">:</a> <a id="752" href="stlc.base.html#410" class="Datatype">Term</a> <a id="757" class="Number">0</a> <a id="759" class="Symbol">→</a> <a id="761" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="765" href="stlc.safety.html#746" class="Function Operator">—↛_</a> <a id="769" href="stlc.safety.html#769" class="Bound">M</a> <a id="771" class="Symbol">=</a> <a id="773" class="Symbol">∀</a> <a id="775" href="stlc.safety.html#775" class="Bound">M&#39;</a> <a id="778" class="Symbol">→</a> <a id="780" href="Relation.Nullary.Negation.Core.html#658" class="Function Operator">¬</a> <a id="782" class="Symbol">(</a><a id="783" href="stlc.safety.html#769" class="Bound">M</a> <a id="785" href="stlc.base.html#2911" class="Datatype Operator">—→</a> <a id="788" href="stlc.safety.html#775" class="Bound">M&#39;</a><a id="790" class="Symbol">)</a>

<a id="793" class="Comment">-- logical predicate for semantic value/term</a>
<a id="𝒱⟦_⟧"></a><a id="838" href="stlc.safety.html#838" class="Function Operator">𝒱⟦_⟧</a> <a id="843" class="Symbol">:</a> <a id="845" href="stlc.base.html#307" class="Datatype">Type</a> <a id="850" class="Symbol">→</a> <a id="852" href="stlc.base.html#410" class="Datatype">Term</a> <a id="857" class="Number">0</a> <a id="859" class="Symbol">→</a> <a id="861" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="ℰ⟦_⟧"></a><a id="865" href="stlc.safety.html#865" class="Function Operator">ℰ⟦_⟧</a> <a id="870" class="Symbol">:</a> <a id="872" href="stlc.base.html#307" class="Datatype">Type</a> <a id="877" class="Symbol">→</a> <a id="879" href="stlc.base.html#410" class="Datatype">Term</a> <a id="884" class="Number">0</a> <a id="886" class="Symbol">→</a> <a id="888" href="Agda.Primitive.html#388" class="Primitive">Set</a>

<a id="893" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="896" href="stlc.base.html#326" class="InductiveConstructor">bool</a>  <a id="902" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="904" href="stlc.base.html#529" class="InductiveConstructor">true</a>  <a id="910" class="Symbol">=</a> <a id="912" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="914" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="917" href="stlc.base.html#326" class="InductiveConstructor">bool</a>  <a id="923" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="925" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="931" class="Symbol">=</a> <a id="933" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="935" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="938" href="stlc.safety.html#938" class="Bound">A</a> <a id="940" href="stlc.base.html#340" class="InductiveConstructor Operator">⇒</a> <a id="942" href="stlc.safety.html#942" class="Bound">B</a> <a id="944" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="946" class="Symbol">(</a><a id="947" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="949" href="stlc.safety.html#949" class="Bound">M</a><a id="950" class="Symbol">)</a> <a id="952" class="Symbol">=</a> <a id="954" class="Symbol">∀</a> <a id="956" href="stlc.safety.html#956" class="Bound">N</a> <a id="958" class="Symbol">→</a> <a id="960" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="963" href="stlc.safety.html#938" class="Bound">A</a> <a id="965" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="967" href="stlc.safety.html#956" class="Bound">N</a> <a id="969" class="Symbol">→</a> <a id="971" href="stlc.safety.html#865" class="Function Operator">ℰ⟦</a> <a id="974" href="stlc.safety.html#942" class="Bound">B</a> <a id="976" href="stlc.safety.html#865" class="Function Operator">⟧</a> <a id="978" class="Symbol">(</a><a id="979" href="stlc.safety.html#949" class="Bound">M</a> <a id="981" href="stlc.base.html#1987" class="Function Operator">[</a> <a id="983" href="stlc.safety.html#956" class="Bound">N</a> <a id="985" href="stlc.base.html#1987" class="Function Operator">]</a><a id="986" class="Symbol">)</a>
<a id="988" href="stlc.safety.html#838" class="CatchallClause Function Operator">𝒱⟦</a><a id="990" class="CatchallClause"> </a><a id="991" class="CatchallClause Symbol">_</a><a id="992" class="CatchallClause">     </a><a id="997" href="stlc.safety.html#838" class="CatchallClause Function Operator">⟧</a><a id="998" class="CatchallClause"> </a><a id="999" class="CatchallClause Symbol">_</a>     <a id="1005" class="Symbol">=</a> <a id="1007" href="Data.Empty.html#914" class="Function">⊥</a>

<a id="1010" href="stlc.safety.html#865" class="Function Operator">ℰ⟦</a> <a id="1013" href="stlc.safety.html#1013" class="Bound">A</a> <a id="1015" href="stlc.safety.html#865" class="Function Operator">⟧</a> <a id="1017" href="stlc.safety.html#1017" class="Bound">M</a> <a id="1019" class="Symbol">=</a> <a id="1021" class="Symbol">∀</a> <a id="1023" href="stlc.safety.html#1023" class="Bound">M&#39;</a> <a id="1026" class="Symbol">→</a> <a id="1028" class="Symbol">(</a><a id="1029" href="stlc.safety.html#1017" class="Bound">M</a> <a id="1031" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="1035" href="stlc.safety.html#1023" class="Bound">M&#39;</a><a id="1037" class="Symbol">)</a> <a id="1039" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="1041" class="Symbol">(</a><a id="1042" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="1045" href="stlc.safety.html#1023" class="Bound">M&#39;</a><a id="1047" class="Symbol">)</a> <a id="1049" class="Symbol">→</a> <a id="1051" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="1054" href="stlc.safety.html#1013" class="Bound">A</a> <a id="1056" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="1058" href="stlc.safety.html#1023" class="Bound">M&#39;</a>

<a id="1062" class="Comment">-- well typed substitution</a>
<a id="𝒢⟦_⟧"></a><a id="1089" href="stlc.safety.html#1089" class="Function Operator">𝒢⟦_⟧</a> <a id="1094" class="Symbol">:</a> <a id="1096" href="stlc.base.html#734" class="Datatype">Context</a> <a id="1104" href="stlc.safety.html#584" class="Generalizable">n</a> <a id="1106" class="Symbol">→</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Data.Fin.Base.html#1159" class="Datatype">Fin</a> <a id="1113" href="stlc.safety.html#584" class="Generalizable">n</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1122" class="Number">0</a><a id="1123" class="Symbol">)</a> <a id="1125" class="Symbol">→</a> <a id="1127" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1131" href="stlc.safety.html#1089" class="Function Operator">𝒢⟦</a> <a id="1134" href="stlc.safety.html#1134" class="Bound">Γ</a> <a id="1136" href="stlc.safety.html#1089" class="Function Operator">⟧</a> <a id="1138" href="stlc.safety.html#1138" class="Bound">σ</a> <a id="1140" class="Symbol">=</a> <a id="1142" class="Symbol">∀</a> <a id="1144" class="Symbol">{</a><a id="1145" href="stlc.safety.html#1145" class="Bound">x</a> <a id="1147" href="stlc.safety.html#1147" class="Bound">A</a><a id="1148" class="Symbol">}</a> <a id="1150" class="Symbol">→</a> <a id="1152" href="stlc.safety.html#1134" class="Bound">Γ</a> <a id="1154" href="stlc.base.html#851" class="Datatype Operator">∋</a> <a id="1156" href="stlc.safety.html#1145" class="Bound">x</a> <a id="1158" href="stlc.base.html#851" class="Datatype Operator">⦂</a> <a id="1160" href="stlc.safety.html#1147" class="Bound">A</a> <a id="1162" class="Symbol">→</a> <a id="1164" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="1167" href="stlc.safety.html#1147" class="Bound">A</a> <a id="1169" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="1171" class="Symbol">(</a><a id="1172" href="stlc.safety.html#1138" class="Bound">σ</a> <a id="1174" href="stlc.safety.html#1145" class="Bound">x</a><a id="1175" class="Symbol">)</a>

<a id="1178" class="Keyword">infix</a>  <a id="1185" class="Number">4</a> <a id="1187" href="stlc.safety.html#1213" class="Function Operator">_⊨_⦂_</a>

<a id="1194" class="Comment">-- semantic typing</a>
<a id="_⊨_⦂_"></a><a id="1213" href="stlc.safety.html#1213" class="Function Operator">_⊨_⦂_</a> <a id="1219" class="Symbol">:</a> <a id="1221" href="stlc.base.html#734" class="Datatype">Context</a> <a id="1229" href="stlc.safety.html#584" class="Generalizable">n</a> <a id="1231" class="Symbol">→</a> <a id="1233" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1238" href="stlc.safety.html#584" class="Generalizable">n</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="stlc.base.html#307" class="Datatype">Type</a> <a id="1247" class="Symbol">→</a> <a id="1249" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="1253" href="stlc.safety.html#1253" class="Bound">Γ</a> <a id="1255" href="stlc.safety.html#1213" class="Function Operator">⊨</a> <a id="1257" href="stlc.safety.html#1257" class="Bound">M</a> <a id="1259" href="stlc.safety.html#1213" class="Function Operator">⦂</a> <a id="1261" href="stlc.safety.html#1261" class="Bound">A</a> <a id="1263" class="Symbol">=</a> <a id="1265" class="Symbol">∀</a> <a id="1267" href="stlc.safety.html#1267" class="Bound">σ</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="stlc.safety.html#1089" class="Function Operator">𝒢⟦</a> <a id="1274" href="stlc.safety.html#1253" class="Bound">Γ</a> <a id="1276" href="stlc.safety.html#1089" class="Function Operator">⟧</a> <a id="1278" href="stlc.safety.html#1267" class="Bound">σ</a> <a id="1280" class="Symbol">→</a> <a id="1282" href="stlc.safety.html#865" class="Function Operator">ℰ⟦</a> <a id="1285" href="stlc.safety.html#1261" class="Bound">A</a> <a id="1287" href="stlc.safety.html#865" class="Function Operator">⟧</a> <a id="1289" class="Symbol">(</a><a id="1290" href="stlc.base.html#1604" class="Function">subst</a> <a id="1296" href="stlc.safety.html#1267" class="Bound">σ</a> <a id="1298" href="stlc.safety.html#1257" class="Bound">M</a><a id="1299" class="Symbol">)</a>

<a id="value?"></a><a id="1302" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1309" class="Symbol">:</a> <a id="1311" class="Symbol">(</a><a id="1312" href="stlc.safety.html#1312" class="Bound">M</a> <a id="1314" class="Symbol">:</a> <a id="1316" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1321" class="Number">0</a><a id="1322" class="Symbol">)</a> <a id="1324" class="Symbol">→</a> <a id="1326" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1330" class="Symbol">(</a><a id="1331" href="stlc.base.html#2787" class="Datatype">Value</a> <a id="1337" href="stlc.safety.html#1312" class="Bound">M</a><a id="1338" class="Symbol">)</a>
<a id="1340" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1347" class="Symbol">(</a><a id="1348" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1350" href="stlc.safety.html#1350" class="Bound">M</a><a id="1351" class="Symbol">)</a>      <a id="1358" class="Symbol">=</a> <a id="1360" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1364" href="stlc.base.html#2822" class="InductiveConstructor">V-abs</a>
<a id="1370" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1377" class="Symbol">(</a><a id="1378" href="stlc.safety.html#1378" class="Bound">M</a> <a id="1380" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1382" href="stlc.safety.html#1382" class="Bound">N</a><a id="1383" class="Symbol">)</a>    <a id="1388" class="Symbol">=</a> <a id="1390" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1393" class="Symbol">λ</a> <a id="1395" class="Symbol">()</a>
<a id="1398" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1405" href="stlc.base.html#529" class="InductiveConstructor">true</a>       <a id="1416" class="Symbol">=</a> <a id="1418" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1422" href="stlc.base.html#2856" class="InductiveConstructor">V-true</a>
<a id="1429" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1436" href="stlc.base.html#546" class="InductiveConstructor">false</a>      <a id="1447" class="Symbol">=</a> <a id="1449" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1453" href="stlc.base.html#2881" class="InductiveConstructor">V-false</a>
<a id="1461" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1468" class="Symbol">(</a><a id="1469" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="1472" href="stlc.safety.html#1472" class="Bound">L</a> <a id="1474" href="stlc.safety.html#1474" class="Bound">M</a> <a id="1476" href="stlc.safety.html#1476" class="Bound">N</a><a id="1477" class="Symbol">)</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1484" class="Symbol">λ</a> <a id="1486" class="Symbol">()</a>

<a id="reducible?"></a><a id="1490" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1501" class="Symbol">:</a> <a id="1503" class="Symbol">(</a><a id="1504" href="stlc.safety.html#1504" class="Bound">M</a> <a id="1506" class="Symbol">:</a> <a id="1508" href="stlc.base.html#410" class="Datatype">Term</a> <a id="1513" class="Number">0</a><a id="1514" class="Symbol">)</a> <a id="1516" class="Symbol">→</a> <a id="1518" href="Relation.Nullary.Decidable.Core.html#1861" class="Record">Dec</a> <a id="1522" class="Symbol">(</a><a id="1523" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="1526" href="stlc.safety.html#1526" class="Bound">M&#39;</a> <a id="1529" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="1531" href="stlc.safety.html#1504" class="Bound">M</a> <a id="1533" href="stlc.base.html#2911" class="Datatype Operator">—→</a> <a id="1536" href="stlc.safety.html#1526" class="Bound">M&#39;</a><a id="1538" class="Symbol">)</a>
<a id="1540" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1551" class="Symbol">(</a><a id="1552" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1554" href="stlc.safety.html#1554" class="Bound">M</a><a id="1555" class="Symbol">)</a> <a id="1557" class="Symbol">=</a> <a id="1559" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1562" class="Symbol">λ</a> <a id="1564" class="Symbol">()</a>
<a id="1567" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1578" class="Symbol">(</a><a id="1579" href="stlc.safety.html#1579" class="Bound">M</a> <a id="1581" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1583" href="stlc.safety.html#1583" class="Bound">N</a><a id="1584" class="Symbol">)</a> <a id="1586" class="Keyword">with</a> <a id="1591" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1602" href="stlc.safety.html#1579" class="Bound">M</a>
<a id="1604" class="Symbol">...</a> <a id="1608" class="Symbol">|</a> <a id="1610" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1614" class="Symbol">(</a><a id="1615" href="stlc.safety.html#1615" class="Bound">M&#39;</a> <a id="1618" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1620" href="stlc.safety.html#1620" class="Bound">M→M&#39;</a><a id="1624" class="Symbol">)</a> <a id="1626" class="Symbol">=</a> <a id="1628" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1632" class="Symbol">(</a><a id="1633" href="stlc.safety.html#1615" class="Bound">M&#39;</a> <a id="1636" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1638" class="Bound">N</a> <a id="1640" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1642" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="1649" href="stlc.safety.html#1620" class="Bound">M→M&#39;</a><a id="1653" class="Symbol">)</a>
<a id="1655" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1666" class="Symbol">((</a><a id="1668" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1670" href="stlc.safety.html#1670" class="Bound">M</a><a id="1671" class="Symbol">)</a> <a id="1673" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1675" href="stlc.safety.html#1675" class="Bound">N</a><a id="1676" class="Symbol">)</a>  <a id="1679" class="Symbol">|</a> <a id="1681" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1684" href="stlc.safety.html#1684" class="Bound">—↛M</a> <a id="1688" class="Keyword">with</a> <a id="1693" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1704" href="stlc.safety.html#1675" class="Bound">N</a>
<a id="1706" class="Symbol">...</a> <a id="1710" class="Symbol">|</a> <a id="1712" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1716" class="Symbol">(</a><a id="1717" href="stlc.safety.html#1717" class="Bound">N&#39;</a> <a id="1720" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1722" href="stlc.safety.html#1722" class="Bound">N→N&#39;</a><a id="1726" class="Symbol">)</a> <a id="1728" class="Symbol">=</a> <a id="1730" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1734" class="Symbol">((</a><a id="1736" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="1738" class="Bound">M</a><a id="1739" class="Symbol">)</a> <a id="1741" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1743" href="stlc.safety.html#1717" class="Bound">N&#39;</a> <a id="1746" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1748" href="stlc.base.html#3044" class="InductiveConstructor">ξ-app₂</a> <a id="1755" href="stlc.safety.html#1722" class="Bound">N→N&#39;</a><a id="1759" class="Symbol">)</a>
<a id="1761" class="Symbol">...</a> <a id="1765" class="Symbol">|</a> <a id="1767" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="1771" href="stlc.safety.html#1771" class="Bound">—↛N</a> <a id="1775" class="Keyword">with</a> <a id="1780" href="stlc.safety.html#1302" class="Function">value?</a> <a id="1787" class="Bound">N</a>
<a id="1789" class="Symbol">...</a>   <a id="1795" class="Symbol">|</a> <a id="1797" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1801" href="stlc.safety.html#1801" class="Bound">VN</a>  <a id="1805" class="Symbol">=</a> <a id="1807" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="1811" class="Symbol">((</a><a id="1813" class="Bound">M</a> <a id="1815" href="stlc.base.html#1987" class="Function Operator">[</a> <a id="1817" class="Bound">N</a> <a id="1819" href="stlc.base.html#1987" class="Function Operator">]</a><a id="1820" class="Symbol">)</a> <a id="1822" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1824" href="stlc.base.html#3150" class="InductiveConstructor">β-abs</a> <a id="1830" href="stlc.safety.html#1801" class="Bound">VN</a><a id="1832" class="Symbol">)</a>
<a id="1834" class="Symbol">...</a>   <a id="1840" class="Symbol">|</a> <a id="1842" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="1846" href="stlc.safety.html#1846" class="Bound">¬VN</a> <a id="1850" class="Symbol">=</a> <a id="1852" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1855" class="Symbol">λ</a> <a id="1857" class="Symbol">{</a> <a id="1859" class="Symbol">(_</a> <a id="1862" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1864" href="stlc.base.html#3044" class="InductiveConstructor">ξ-app₂</a> <a id="1871" href="stlc.safety.html#1871" class="Bound">N→N&#39;</a><a id="1875" class="Symbol">)</a> <a id="1877" class="Symbol">→</a> <a id="1879" class="Bound">—↛N</a> <a id="1883" class="Symbol">(_</a> <a id="1886" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1888" href="stlc.safety.html#1871" class="Bound">N→N&#39;</a><a id="1892" class="Symbol">)</a> <a id="1894" class="Symbol">;</a> <a id="1896" class="Symbol">(_</a> <a id="1899" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1901" href="stlc.base.html#3150" class="InductiveConstructor">β-abs</a> <a id="1907" href="stlc.safety.html#1907" class="Bound">VN</a><a id="1909" class="Symbol">)</a> <a id="1911" class="Symbol">→</a> <a id="1913" href="stlc.safety.html#1846" class="Bound">¬VN</a> <a id="1917" href="stlc.safety.html#1907" class="Bound">VN</a> <a id="1920" class="Symbol">}</a>
<a id="1922" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="1933" class="Symbol">(</a><a id="1934" href="stlc.safety.html#1934" class="Bound">M₁</a> <a id="1937" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1939" href="stlc.safety.html#1939" class="Bound">M₂</a> <a id="1942" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="1944" href="stlc.safety.html#1944" class="Bound">N</a><a id="1945" class="Symbol">)</a>     <a id="1951" class="Symbol">|</a> <a id="1953" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1956" href="stlc.safety.html#1956" class="Bound">—↛M</a> <a id="1960" class="Symbol">=</a> <a id="1962" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="1965" class="Symbol">λ</a> <a id="1967" class="Symbol">{</a> <a id="1969" class="Symbol">(_</a> <a id="1972" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1974" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="1981" href="stlc.safety.html#1981" class="Bound">M→M&#39;</a><a id="1985" class="Symbol">)</a> <a id="1987" class="Symbol">→</a> <a id="1989" href="stlc.safety.html#1956" class="Bound">—↛M</a> <a id="1993" class="Symbol">(_</a> <a id="1996" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1998" href="stlc.safety.html#1981" class="Bound">M→M&#39;</a><a id="2002" class="Symbol">)</a> <a id="2004" class="Symbol">}</a>
<a id="2006" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2017" class="Symbol">(</a><a id="2018" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="2023" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2025" href="stlc.safety.html#2025" class="Bound">N</a><a id="2026" class="Symbol">)</a>        <a id="2035" class="Symbol">|</a> <a id="2037" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2040" href="stlc.safety.html#2040" class="Bound">—↛M</a> <a id="2044" class="Symbol">=</a> <a id="2046" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2049" class="Symbol">λ</a> <a id="2051" class="Symbol">{</a> <a id="2053" class="Symbol">(_</a> <a id="2056" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2058" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="2065" href="stlc.safety.html#2065" class="Bound">M→M&#39;</a><a id="2069" class="Symbol">)</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="stlc.safety.html#2040" class="Bound">—↛M</a> <a id="2077" class="Symbol">(_</a> <a id="2080" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2082" href="stlc.safety.html#2065" class="Bound">M→M&#39;</a><a id="2086" class="Symbol">)</a> <a id="2088" class="Symbol">}</a>
<a id="2090" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2101" class="Symbol">(</a><a id="2102" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="2108" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2110" href="stlc.safety.html#2110" class="Bound">N</a><a id="2111" class="Symbol">)</a>       <a id="2119" class="Symbol">|</a> <a id="2121" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2124" href="stlc.safety.html#2124" class="Bound">—↛M</a> <a id="2128" class="Symbol">=</a> <a id="2130" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2133" class="Symbol">λ</a> <a id="2135" class="Symbol">{</a> <a id="2137" class="Symbol">(_</a> <a id="2140" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2142" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="2149" href="stlc.safety.html#2149" class="Bound">M→M&#39;</a><a id="2153" class="Symbol">)</a> <a id="2155" class="Symbol">→</a> <a id="2157" href="stlc.safety.html#2124" class="Bound">—↛M</a> <a id="2161" class="Symbol">(_</a> <a id="2164" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2166" href="stlc.safety.html#2149" class="Bound">M→M&#39;</a><a id="2170" class="Symbol">)</a> <a id="2172" class="Symbol">}</a>
<a id="2174" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2185" class="Symbol">(</a><a id="2186" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2189" href="stlc.safety.html#2189" class="Bound">M₁</a> <a id="2192" href="stlc.safety.html#2192" class="Bound">M₂</a> <a id="2195" href="stlc.safety.html#2195" class="Bound">M₃</a> <a id="2198" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2200" href="stlc.safety.html#2200" class="Bound">N</a><a id="2201" class="Symbol">)</a> <a id="2203" class="Symbol">|</a> <a id="2205" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2208" href="stlc.safety.html#2208" class="Bound">—↛M</a> <a id="2212" class="Symbol">=</a> <a id="2214" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2217" class="Symbol">λ</a> <a id="2219" class="Symbol">{</a> <a id="2221" class="Symbol">(_</a> <a id="2224" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2226" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="2233" href="stlc.safety.html#2233" class="Bound">M→M&#39;</a><a id="2237" class="Symbol">)</a> <a id="2239" class="Symbol">→</a> <a id="2241" href="stlc.safety.html#2208" class="Bound">—↛M</a> <a id="2245" class="Symbol">(_</a> <a id="2248" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2250" href="stlc.safety.html#2233" class="Bound">M→M&#39;</a><a id="2254" class="Symbol">)</a> <a id="2256" class="Symbol">}</a>
<a id="2258" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2269" href="stlc.base.html#529" class="InductiveConstructor">true</a>       <a id="2280" class="Symbol">=</a> <a id="2282" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2285" class="Symbol">λ</a> <a id="2287" class="Symbol">()</a>
<a id="2290" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2301" href="stlc.base.html#546" class="InductiveConstructor">false</a>      <a id="2312" class="Symbol">=</a> <a id="2314" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2317" class="Symbol">λ</a> <a id="2319" class="Symbol">()</a>
<a id="2322" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2333" class="Symbol">(</a><a id="2334" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2337" href="stlc.safety.html#2337" class="Bound">L</a> <a id="2339" href="stlc.safety.html#2339" class="Bound">M</a> <a id="2341" href="stlc.safety.html#2341" class="Bound">N</a><a id="2342" class="Symbol">)</a> <a id="2344" class="Keyword">with</a> <a id="2349" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="2360" href="stlc.safety.html#2337" class="Bound">L</a>
<a id="2362" class="Symbol">...</a> <a id="2366" class="Symbol">|</a> <a id="2368" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2372" class="Symbol">(</a><a id="2373" href="stlc.safety.html#2373" class="Bound">M&#39;</a> <a id="2376" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2378" href="stlc.safety.html#2378" class="Bound">M→M&#39;</a><a id="2382" class="Symbol">)</a> <a id="2384" class="Symbol">=</a> <a id="2386" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2390" class="Symbol">(</a><a id="2391" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2394" href="stlc.safety.html#2373" class="Bound">M&#39;</a> <a id="2397" class="Bound">M</a> <a id="2399" class="Bound">N</a> <a id="2401" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2403" href="stlc.base.html#3246" class="InductiveConstructor">ξ-if</a> <a id="2408" href="stlc.safety.html#2378" class="Bound">M→M&#39;</a><a id="2412" class="Symbol">)</a>
<a id="2414" class="Symbol">...</a> <a id="2418" class="Symbol">|</a> <a id="2420" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="2424" href="stlc.safety.html#2424" class="Bound">—↛M</a> <a id="2428" class="Keyword">with</a> <a id="2433" class="Bound">L</a>
<a id="2435" class="Symbol">...</a>   <a id="2441" class="Symbol">|</a> <a id="2443" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="2445" href="stlc.safety.html#2445" class="Bound">L₁</a>          <a id="2457" class="Symbol">=</a> <a id="2459" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2462" class="Symbol">λ</a> <a id="2464" class="Symbol">{</a> <a id="2466" class="Symbol">(_</a> <a id="2469" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2471" href="stlc.base.html#3246" class="InductiveConstructor">ξ-if</a> <a id="2476" href="stlc.safety.html#2476" class="Bound">if→if&#39;</a><a id="2482" class="Symbol">)</a> <a id="2484" class="Symbol">→</a> <a id="2486" class="Bound">—↛M</a> <a id="2490" class="Symbol">(_</a> <a id="2493" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2495" href="stlc.safety.html#2476" class="Bound">if→if&#39;</a><a id="2501" class="Symbol">)</a> <a id="2503" class="Symbol">}</a>
<a id="2505" class="Symbol">...</a>   <a id="2511" class="Symbol">|</a> <a id="2513" href="stlc.safety.html#2513" class="Bound">L₁</a> <a id="2516" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="2518" href="stlc.safety.html#2518" class="Bound">L₂</a>       <a id="2527" class="Symbol">=</a> <a id="2529" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2532" class="Symbol">λ</a> <a id="2534" class="Symbol">{</a> <a id="2536" class="Symbol">(_</a> <a id="2539" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2541" href="stlc.base.html#3246" class="InductiveConstructor">ξ-if</a> <a id="2546" href="stlc.safety.html#2546" class="Bound">if→if&#39;</a><a id="2552" class="Symbol">)</a> <a id="2554" class="Symbol">→</a> <a id="2556" class="Bound">—↛M</a> <a id="2560" class="Symbol">(_</a> <a id="2563" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2565" href="stlc.safety.html#2546" class="Bound">if→if&#39;</a><a id="2571" class="Symbol">)</a> <a id="2573" class="Symbol">}</a>
<a id="2575" class="Symbol">...</a>   <a id="2581" class="Symbol">|</a> <a id="2583" href="stlc.base.html#529" class="InductiveConstructor">true</a>          <a id="2597" class="Symbol">=</a> <a id="2599" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2603" class="Symbol">(</a><a id="2604" class="Bound">M</a> <a id="2606" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2608" href="stlc.base.html#3348" class="InductiveConstructor">β-if₁</a><a id="2613" class="Symbol">)</a>
<a id="2615" class="Symbol">...</a>   <a id="2621" class="Symbol">|</a> <a id="2623" href="stlc.base.html#546" class="InductiveConstructor">false</a>         <a id="2637" class="Symbol">=</a> <a id="2639" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="2643" class="Symbol">(</a><a id="2644" class="Bound">N</a> <a id="2646" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2648" href="stlc.base.html#3420" class="InductiveConstructor">β-if₂</a><a id="2653" class="Symbol">)</a>
<a id="2655" class="Symbol">...</a>   <a id="2661" class="Symbol">|</a> <a id="2663" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="2666" href="stlc.safety.html#2666" class="Bound">L₁</a> <a id="2669" href="stlc.safety.html#2669" class="Bound">L₂</a> <a id="2672" href="stlc.safety.html#2672" class="Bound">L₃</a>   <a id="2677" class="Symbol">=</a> <a id="2679" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a> <a id="2682" class="Symbol">λ</a> <a id="2684" class="Symbol">{</a> <a id="2686" class="Symbol">(_</a> <a id="2689" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2691" href="stlc.base.html#3246" class="InductiveConstructor">ξ-if</a> <a id="2696" href="stlc.safety.html#2696" class="Bound">if→if&#39;</a><a id="2702" class="Symbol">)</a> <a id="2704" class="Symbol">→</a> <a id="2706" class="Bound">—↛M</a> <a id="2710" class="Symbol">(_</a> <a id="2713" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2715" href="stlc.safety.html#2696" class="Bound">if→if&#39;</a><a id="2721" class="Symbol">)</a> <a id="2723" class="Symbol">}</a>

<a id="𝒱⟦bool⟧-Canonical"></a><a id="2726" href="stlc.safety.html#2726" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="2744" class="Symbol">:</a> <a id="2746" class="Symbol">∀</a> <a id="2748" class="Symbol">{</a><a id="2749" href="stlc.safety.html#2749" class="Bound">M</a><a id="2750" class="Symbol">}</a> <a id="2752" class="Symbol">→</a> <a id="2754" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="2757" href="stlc.base.html#326" class="InductiveConstructor">bool</a> <a id="2762" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="2764" href="stlc.safety.html#2749" class="Bound">M</a> <a id="2766" class="Symbol">→</a> <a id="2768" href="stlc.safety.html#2749" class="Bound">M</a> <a id="2770" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2772" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="2777" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="2779" href="stlc.safety.html#2749" class="Bound">M</a> <a id="2781" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2783" href="stlc.base.html#546" class="InductiveConstructor">false</a>
<a id="2789" href="stlc.safety.html#2726" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="2807" class="Symbol">{</a><a id="2808" class="Argument">M</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="stlc.base.html#529" class="InductiveConstructor">true</a><a id="2816" class="Symbol">}</a>  <a id="2819" href="stlc.safety.html#2819" class="Bound">VM</a> <a id="2822" class="Symbol">=</a> <a id="2824" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="2829" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="2834" href="stlc.safety.html#2726" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="2852" class="Symbol">{</a><a id="2853" class="Argument">M</a> <a id="2855" class="Symbol">=</a> <a id="2857" href="stlc.base.html#546" class="InductiveConstructor">false</a><a id="2862" class="Symbol">}</a> <a id="2864" href="stlc.safety.html#2864" class="Bound">VM</a> <a id="2867" class="Symbol">=</a> <a id="2869" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="2874" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="𝒱⟦⇒⟧-Canonical"></a><a id="2880" href="stlc.safety.html#2880" class="Function">𝒱⟦⇒⟧-Canonical</a> <a id="2895" class="Symbol">:</a> <a id="2897" class="Symbol">∀</a> <a id="2899" class="Symbol">{</a><a id="2900" href="stlc.safety.html#2900" class="Bound">M</a> <a id="2902" href="stlc.safety.html#2902" class="Bound">A</a> <a id="2904" href="stlc.safety.html#2904" class="Bound">B</a><a id="2905" class="Symbol">}</a> <a id="2907" class="Symbol">→</a> <a id="2909" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="2912" href="stlc.safety.html#2902" class="Bound">A</a> <a id="2914" href="stlc.base.html#340" class="InductiveConstructor Operator">⇒</a> <a id="2916" href="stlc.safety.html#2904" class="Bound">B</a> <a id="2918" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="2920" href="stlc.safety.html#2900" class="Bound">M</a> <a id="2922" class="Symbol">→</a> <a id="2924" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="2927" href="stlc.safety.html#2927" class="Bound">N</a> <a id="2929" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="2931" class="Symbol">(</a><a id="2932" href="stlc.safety.html#2900" class="Bound">M</a> <a id="2934" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="2936" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="2938" href="stlc.safety.html#2927" class="Bound">N</a><a id="2939" class="Symbol">)</a>
<a id="2941" href="stlc.safety.html#2880" class="Function">𝒱⟦⇒⟧-Canonical</a> <a id="2956" class="Symbol">{</a><a id="2957" class="Argument">M</a> <a id="2959" class="Symbol">=</a> <a id="2961" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="2963" href="stlc.safety.html#2963" class="Bound">M</a><a id="2964" class="Symbol">}</a> <a id="2966" href="stlc.safety.html#2966" class="Bound">VM</a> <a id="2969" class="Symbol">=</a> <a id="2971" href="stlc.safety.html#2963" class="Bound">M</a> <a id="2973" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="2975" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>

<a id="—↛-M→*M"></a><a id="2981" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="2989" class="Symbol">:</a> <a id="2991" class="Symbol">∀</a> <a id="2993" class="Symbol">{</a><a id="2994" href="stlc.safety.html#2994" class="Bound">M</a> <a id="2996" href="stlc.safety.html#2996" class="Bound">M&#39;</a><a id="2998" class="Symbol">}</a> <a id="3000" class="Symbol">→</a> <a id="3002" href="stlc.safety.html#2994" class="Bound">M</a> <a id="3004" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="3008" href="stlc.safety.html#2996" class="Bound">M&#39;</a> <a id="3011" class="Symbol">→</a> <a id="3013" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="3016" href="stlc.safety.html#2994" class="Bound">M</a> <a id="3018" class="Symbol">→</a> <a id="3020" href="stlc.safety.html#2994" class="Bound">M</a> <a id="3022" href="Agda.Builtin.Equality.html#150" class="Datatype Operator">≡</a> <a id="3024" href="stlc.safety.html#2996" class="Bound">M&#39;</a>
<a id="3027" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="3035" class="Symbol">(_</a> <a id="3038" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="3039" class="Symbol">)</a>                <a id="3056" href="stlc.safety.html#3056" class="Bound">—↛M</a> <a id="3060" class="Symbol">=</a> <a id="3062" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a>
<a id="3067" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="3075" class="Symbol">(_</a> <a id="3078" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="3082" href="stlc.safety.html#3082" class="Bound">M→M₁</a> <a id="3087" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="3089" href="stlc.safety.html#3089" class="Bound">M→*M&#39;</a><a id="3094" class="Symbol">)</a> <a id="3096" href="stlc.safety.html#3096" class="Bound">—↛M</a> <a id="3100" class="Symbol">=</a> <a id="3102" href="Data.Empty.html#1069" class="Function">⊥-elim</a> <a id="3109" class="Symbol">(</a><a id="3110" href="stlc.safety.html#3096" class="Bound">—↛M</a> <a id="3114" class="Symbol">_</a> <a id="3116" href="stlc.safety.html#3082" class="Bound">M→M₁</a><a id="3120" class="Symbol">)</a>

<a id="V→—↛"></a><a id="3123" href="stlc.safety.html#3123" class="Function">V→—↛</a> <a id="3128" class="Symbol">:</a> <a id="3130" class="Symbol">∀</a> <a id="3132" class="Symbol">{</a><a id="3133" href="stlc.safety.html#3133" class="Bound">M</a> <a id="3135" class="Symbol">:</a> <a id="3137" href="stlc.base.html#410" class="Datatype">Term</a> <a id="3142" class="Number">0</a><a id="3143" class="Symbol">}</a> <a id="3145" class="Symbol">→</a> <a id="3147" href="stlc.base.html#2787" class="Datatype">Value</a> <a id="3153" href="stlc.safety.html#3133" class="Bound">M</a> <a id="3155" class="Symbol">→</a> <a id="3157" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="3160" href="stlc.safety.html#3133" class="Bound">M</a>
<a id="3162" href="stlc.safety.html#3123" class="Function">V→—↛</a> <a id="3167" href="stlc.base.html#2822" class="InductiveConstructor">V-abs</a>   <a id="3175" href="stlc.safety.html#3175" class="Bound">M&#39;</a> <a id="3178" class="Symbol">()</a>
<a id="3181" href="stlc.safety.html#3123" class="Function">V→—↛</a> <a id="3186" href="stlc.base.html#2856" class="InductiveConstructor">V-true</a>  <a id="3194" href="stlc.safety.html#3194" class="Bound">M&#39;</a> <a id="3197" class="Symbol">()</a>
<a id="3200" href="stlc.safety.html#3123" class="Function">V→—↛</a> <a id="3205" href="stlc.base.html#2881" class="InductiveConstructor">V-false</a> <a id="3213" href="stlc.safety.html#3213" class="Bound">M&#39;</a> <a id="3216" class="Symbol">()</a>

<a id="𝒱-V"></a><a id="3220" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="3224" class="Symbol">:</a> <a id="3226" class="Symbol">∀</a> <a id="3228" class="Symbol">{</a><a id="3229" href="stlc.safety.html#3229" class="Bound">M</a> <a id="3231" href="stlc.safety.html#3231" class="Bound">A</a><a id="3232" class="Symbol">}</a> <a id="3234" class="Symbol">→</a> <a id="3236" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="3239" href="stlc.safety.html#3231" class="Bound">A</a> <a id="3241" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="3243" href="stlc.safety.html#3229" class="Bound">M</a> <a id="3245" class="Symbol">→</a> <a id="3247" href="stlc.base.html#2787" class="Datatype">Value</a> <a id="3253" href="stlc.safety.html#3229" class="Bound">M</a>
<a id="3255" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="3259" class="Symbol">{</a><a id="3260" class="Argument">M</a> <a id="3262" class="Symbol">=</a> <a id="3264" href="stlc.base.html#529" class="InductiveConstructor">true</a><a id="3268" class="Symbol">}</a>  <a id="3271" class="Symbol">{</a><a id="3272" class="Argument">A</a> <a id="3274" class="Symbol">=</a> <a id="3276" href="stlc.base.html#326" class="InductiveConstructor">bool</a><a id="3280" class="Symbol">}</a>  <a id="3283" href="stlc.safety.html#3283" class="Bound">VM</a> <a id="3286" class="Symbol">=</a> <a id="3288" href="stlc.base.html#2856" class="InductiveConstructor">V-true</a>
<a id="3295" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="3299" class="Symbol">{</a><a id="3300" class="Argument">M</a> <a id="3302" class="Symbol">=</a> <a id="3304" href="stlc.base.html#546" class="InductiveConstructor">false</a><a id="3309" class="Symbol">}</a> <a id="3311" class="Symbol">{</a><a id="3312" class="Argument">A</a> <a id="3314" class="Symbol">=</a> <a id="3316" href="stlc.base.html#326" class="InductiveConstructor">bool</a><a id="3320" class="Symbol">}</a>  <a id="3323" href="stlc.safety.html#3323" class="Bound">VM</a> <a id="3326" class="Symbol">=</a> <a id="3328" href="stlc.base.html#2881" class="InductiveConstructor">V-false</a>
<a id="3336" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="3340" class="Symbol">{</a><a id="3341" class="Argument">M</a> <a id="3343" class="Symbol">=</a> <a id="3345" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3347" href="stlc.safety.html#3347" class="Bound">M</a><a id="3348" class="Symbol">}</a>   <a id="3352" class="Symbol">{</a><a id="3353" class="Argument">A</a> <a id="3355" class="Symbol">=</a> <a id="3357" href="stlc.safety.html#3357" class="Bound">A</a> <a id="3359" href="stlc.base.html#340" class="InductiveConstructor Operator">⇒</a> <a id="3361" href="stlc.safety.html#3361" class="Bound">B</a><a id="3362" class="Symbol">}</a> <a id="3364" href="stlc.safety.html#3364" class="Bound">VM</a> <a id="3367" class="Symbol">=</a> <a id="3369" href="stlc.base.html#2822" class="InductiveConstructor">V-abs</a>

<a id="𝒱→—↛"></a><a id="3376" href="stlc.safety.html#3376" class="Function">𝒱→—↛</a> <a id="3381" class="Symbol">:</a> <a id="3383" class="Symbol">∀</a> <a id="3385" class="Symbol">{</a><a id="3386" href="stlc.safety.html#3386" class="Bound">M</a> <a id="3388" href="stlc.safety.html#3388" class="Bound">A</a><a id="3389" class="Symbol">}</a> <a id="3391" class="Symbol">→</a> <a id="3393" href="stlc.safety.html#838" class="Function Operator">𝒱⟦</a> <a id="3396" href="stlc.safety.html#3388" class="Bound">A</a> <a id="3398" href="stlc.safety.html#838" class="Function Operator">⟧</a> <a id="3400" href="stlc.safety.html#3386" class="Bound">M</a> <a id="3402" class="Symbol">→</a> <a id="3404" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="3407" href="stlc.safety.html#3386" class="Bound">M</a>
<a id="3409" href="stlc.safety.html#3376" class="Function">𝒱→—↛</a> <a id="3414" href="stlc.safety.html#3414" class="Bound">VM</a> <a id="3417" class="Symbol">=</a> <a id="3419" href="stlc.safety.html#3123" class="Function">V→—↛</a> <a id="3424" class="Symbol">(</a><a id="3425" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="3429" href="stlc.safety.html#3414" class="Bound">VM</a><a id="3431" class="Symbol">)</a>

<a id="3434" class="Comment">-- irreducible application implies its lhs is irreducible</a>
<a id="appL—↛"></a><a id="3492" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3499" class="Symbol">:</a> <a id="3501" class="Symbol">∀</a> <a id="3503" class="Symbol">{</a><a id="3504" href="stlc.safety.html#3504" class="Bound">M</a> <a id="3506" href="stlc.safety.html#3506" class="Bound">N</a> <a id="3508" href="stlc.safety.html#3508" class="Bound">V</a><a id="3509" class="Symbol">}</a> <a id="3511" class="Symbol">→</a> <a id="3513" href="stlc.safety.html#3504" class="Bound">M</a> <a id="3515" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3517" href="stlc.safety.html#3506" class="Bound">N</a> <a id="3519" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="3523" href="stlc.safety.html#3508" class="Bound">V</a> <a id="3525" class="Symbol">→</a> <a id="3527" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="3530" href="stlc.safety.html#3508" class="Bound">V</a> <a id="3532" class="Symbol">→</a> <a id="3534" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3537" href="stlc.safety.html#3537" class="Bound">M&#39;</a> <a id="3540" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3542" class="Symbol">(</a><a id="3543" href="stlc.safety.html#3504" class="Bound">M</a> <a id="3545" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="3549" href="stlc.safety.html#3537" class="Bound">M&#39;</a><a id="3551" class="Symbol">)</a> <a id="3553" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3555" class="Symbol">(</a><a id="3556" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="3559" href="stlc.safety.html#3537" class="Bound">M&#39;</a><a id="3561" class="Symbol">)</a>
<a id="3563" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3570" class="Symbol">((</a><a id="3572" href="stlc.safety.html#3572" class="Bound">M</a> <a id="3574" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3576" href="stlc.safety.html#3576" class="Bound">N</a><a id="3577" class="Symbol">)</a> <a id="3579" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="3580" class="Symbol">)</a>                         <a id="3606" href="stlc.safety.html#3606" class="Bound">—↛V</a> <a id="3610" class="Symbol">=</a> <a id="3612" href="stlc.safety.html#3572" class="Bound">M</a> <a id="3614" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3616" class="Symbol">(</a><a id="3617" href="stlc.safety.html#3572" class="Bound">M</a> <a id="3619" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="3620" class="Symbol">)</a> <a id="3622" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3624" class="Symbol">λ</a> <a id="3626" class="Symbol">{</a> <a id="3628" href="stlc.safety.html#3628" class="Bound">M&#39;</a> <a id="3631" href="stlc.safety.html#3631" class="Bound">x</a> <a id="3633" class="Symbol">→</a> <a id="3635" href="stlc.safety.html#3606" class="Bound">—↛V</a> <a id="3639" class="Symbol">(</a><a id="3640" href="stlc.safety.html#3628" class="Bound">M&#39;</a> <a id="3643" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3645" href="stlc.safety.html#3576" class="Bound">N</a><a id="3646" class="Symbol">)</a> <a id="3648" class="Symbol">(</a><a id="3649" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="3656" href="stlc.safety.html#3631" class="Bound">x</a><a id="3657" class="Symbol">)</a> <a id="3659" class="Symbol">}</a>
<a id="3661" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3668" class="Symbol">((</a><a id="3670" href="stlc.safety.html#3670" class="Bound">M</a> <a id="3672" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3674" href="stlc.safety.html#3674" class="Bound">N</a><a id="3675" class="Symbol">)</a> <a id="3677" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="3681" href="stlc.base.html#2954" class="InductiveConstructor">ξ-app₁</a> <a id="3688" href="stlc.safety.html#3688" class="Bound">M→M&#39;</a> <a id="3693" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="3695" href="stlc.safety.html#3695" class="Bound">M·N→*V</a><a id="3701" class="Symbol">)</a>  <a id="3704" href="stlc.safety.html#3704" class="Bound">—↛V</a> <a id="3708" class="Keyword">with</a> <a id="3713" href="stlc.safety.html#3713" class="Bound">M&#39;</a> <a id="3716" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3718" href="stlc.safety.html#3718" class="Bound">M→*M&#39;</a> <a id="3724" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3726" href="stlc.safety.html#3726" class="Bound">—↛M&#39;</a> ← <a id="3733" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3740" href="stlc.safety.html#3695" class="Bound">M·N→*V</a> <a id="3747" href="stlc.safety.html#3704" class="Bound">—↛V</a> <a id="3751" class="Symbol">=</a> <a id="3753" href="stlc.safety.html#3713" class="Bound">M&#39;</a> <a id="3756" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3758" href="stlc.base.html#3719" class="InductiveConstructor">step—→</a> <a id="3765" href="stlc.safety.html#3670" class="Bound">M</a> <a id="3767" href="stlc.safety.html#3718" class="Bound">M→*M&#39;</a> <a id="3773" href="stlc.safety.html#3688" class="Bound">M→M&#39;</a> <a id="3778" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3780" href="stlc.safety.html#3726" class="Bound">—↛M&#39;</a>
<a id="3785" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3792" class="Symbol">((</a><a id="3794" href="stlc.safety.html#3794" class="Bound">M</a> <a id="3796" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3798" href="stlc.safety.html#3798" class="Bound">N</a><a id="3799" class="Symbol">)</a> <a id="3801" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="3805" href="stlc.base.html#3044" class="InductiveConstructor">ξ-app₂</a> <a id="3812" href="stlc.safety.html#3812" class="Bound">N→N&#39;</a> <a id="3817" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="3819" href="stlc.safety.html#3819" class="Bound">M·N→*V</a><a id="3825" class="Symbol">)</a>  <a id="3828" href="stlc.safety.html#3828" class="Bound">—↛V</a> <a id="3832" class="Symbol">=</a> <a id="3834" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3841" href="stlc.safety.html#3819" class="Bound">M·N→*V</a> <a id="3848" href="stlc.safety.html#3828" class="Bound">—↛V</a>
<a id="3852" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="3859" class="Symbol">(((</a><a id="3862" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3864" href="stlc.safety.html#3864" class="Bound">M</a><a id="3865" class="Symbol">)</a> <a id="3867" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3869" href="stlc.safety.html#3869" class="Bound">N</a><a id="3870" class="Symbol">)</a> <a id="3872" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="3876" href="stlc.base.html#3150" class="InductiveConstructor">β-abs</a> <a id="3882" href="stlc.safety.html#3882" class="Bound">VN</a> <a id="3885" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="3887" href="stlc.safety.html#3887" class="Bound">M·N→*V</a><a id="3893" class="Symbol">)</a> <a id="3895" href="stlc.safety.html#3895" class="Bound">—↛V</a> <a id="3899" class="Symbol">=</a> <a id="3901" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3903" href="stlc.safety.html#3864" class="Bound">M</a> <a id="3905" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3907" class="Symbol">(</a><a id="3908" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3910" href="stlc.safety.html#3864" class="Bound">M</a> <a id="3912" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="3913" class="Symbol">)</a> <a id="3915" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="3917" class="Symbol">λ</a> <a id="3919" class="Symbol">{</a> <a id="3921" href="stlc.safety.html#3921" class="Bound">M&#39;</a> <a id="3924" class="Symbol">()</a> <a id="3927" class="Symbol">}</a>

<a id="appR—↛"></a><a id="3930" href="stlc.safety.html#3930" class="Function">appR—↛</a> <a id="3937" class="Symbol">:</a> <a id="3939" class="Symbol">∀</a> <a id="3941" class="Symbol">{</a><a id="3942" href="stlc.safety.html#3942" class="Bound">M</a> <a id="3944" href="stlc.safety.html#3944" class="Bound">N</a> <a id="3946" href="stlc.safety.html#3946" class="Bound">V</a><a id="3947" class="Symbol">}</a> <a id="3949" class="Symbol">→</a> <a id="3951" class="Symbol">(</a><a id="3952" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="3954" href="stlc.safety.html#3942" class="Bound">M</a><a id="3955" class="Symbol">)</a> <a id="3957" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="3959" href="stlc.safety.html#3944" class="Bound">N</a> <a id="3961" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="3965" href="stlc.safety.html#3946" class="Bound">V</a> <a id="3967" class="Symbol">→</a> <a id="3969" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="3972" href="stlc.safety.html#3946" class="Bound">V</a> <a id="3974" class="Symbol">→</a> <a id="3976" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="3979" href="stlc.safety.html#3979" class="Bound">N&#39;</a> <a id="3982" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="3984" class="Symbol">(</a><a id="3985" href="stlc.safety.html#3944" class="Bound">N</a> <a id="3987" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="3991" href="stlc.safety.html#3979" class="Bound">N&#39;</a><a id="3993" class="Symbol">)</a> <a id="3995" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3997" class="Symbol">(</a><a id="3998" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="4001" href="stlc.safety.html#3979" class="Bound">N&#39;</a><a id="4003" class="Symbol">)</a>
<a id="4005" href="stlc.safety.html#3930" class="Function">appR—↛</a> <a id="4012" class="Symbol">(((</a><a id="4015" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4017" href="stlc.safety.html#4017" class="Bound">M</a><a id="4018" class="Symbol">)</a> <a id="4020" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4022" href="stlc.safety.html#4022" class="Bound">N</a><a id="4023" class="Symbol">)</a> <a id="4025" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4026" class="Symbol">)</a>                        <a id="4051" href="stlc.safety.html#4051" class="Bound">—↛V</a> <a id="4055" class="Symbol">=</a> <a id="4057" href="stlc.safety.html#4022" class="Bound">N</a> <a id="4059" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4061" class="Symbol">(</a><a id="4062" href="stlc.safety.html#4022" class="Bound">N</a> <a id="4064" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4065" class="Symbol">)</a> <a id="4067" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4069" class="Symbol">λ</a> <a id="4071" class="Symbol">{</a> <a id="4073" href="stlc.safety.html#4073" class="Bound">M&#39;</a> <a id="4076" href="stlc.safety.html#4076" class="Bound">x</a> <a id="4078" class="Symbol">→</a> <a id="4080" href="stlc.safety.html#4051" class="Bound">—↛V</a> <a id="4084" class="Symbol">((</a><a id="4086" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4088" href="stlc.safety.html#4017" class="Bound">M</a><a id="4089" class="Symbol">)</a> <a id="4091" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4093" href="stlc.safety.html#4073" class="Bound">M&#39;</a><a id="4095" class="Symbol">)</a> <a id="4097" class="Symbol">(</a><a id="4098" href="stlc.base.html#3044" class="InductiveConstructor">ξ-app₂</a> <a id="4105" href="stlc.safety.html#4076" class="Bound">x</a><a id="4106" class="Symbol">)</a> <a id="4108" class="Symbol">}</a>
<a id="4110" href="stlc.safety.html#3930" class="Function">appR—↛</a> <a id="4117" class="Symbol">(((</a><a id="4120" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4122" href="stlc.safety.html#4122" class="Bound">M</a><a id="4123" class="Symbol">)</a> <a id="4125" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4127" href="stlc.safety.html#4127" class="Bound">N</a><a id="4128" class="Symbol">)</a> <a id="4130" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="4134" href="stlc.base.html#3044" class="InductiveConstructor">ξ-app₂</a> <a id="4141" href="stlc.safety.html#4141" class="Bound">N→N&#39;</a> <a id="4146" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="4148" href="stlc.safety.html#4148" class="Bound">M·N→*V</a><a id="4154" class="Symbol">)</a> <a id="4156" href="stlc.safety.html#4156" class="Bound">—↛V</a> <a id="4160" class="Keyword">with</a> <a id="4165" href="stlc.safety.html#4165" class="Bound">N&#39;</a> <a id="4168" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4170" href="stlc.safety.html#4170" class="Bound">N→*N&#39;</a> <a id="4176" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4178" href="stlc.safety.html#4178" class="Bound">—↛N&#39;</a> ← <a id="4185" href="stlc.safety.html#3930" class="Function">appR—↛</a> <a id="4192" href="stlc.safety.html#4148" class="Bound">M·N→*V</a> <a id="4199" href="stlc.safety.html#4156" class="Bound">—↛V</a> <a id="4203" class="Symbol">=</a> <a id="4205" href="stlc.safety.html#4165" class="Bound">N&#39;</a> <a id="4208" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4210" href="stlc.base.html#3719" class="InductiveConstructor">step—→</a> <a id="4217" href="stlc.safety.html#4127" class="Bound">N</a> <a id="4219" href="stlc.safety.html#4170" class="Bound">N→*N&#39;</a> <a id="4225" href="stlc.safety.html#4141" class="Bound">N→N&#39;</a> <a id="4230" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4232" href="stlc.safety.html#4178" class="Bound">—↛N&#39;</a>
<a id="4237" href="stlc.safety.html#3930" class="Function">appR—↛</a> <a id="4244" class="Symbol">(((</a><a id="4247" href="stlc.base.html#462" class="InductiveConstructor Operator">ƛ</a> <a id="4249" href="stlc.safety.html#4249" class="Bound">M</a><a id="4250" class="Symbol">)</a> <a id="4252" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="4254" href="stlc.safety.html#4254" class="Bound">N</a><a id="4255" class="Symbol">)</a> <a id="4257" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="4261" href="stlc.base.html#3150" class="InductiveConstructor">β-abs</a> <a id="4267" href="stlc.safety.html#4267" class="Bound">VN</a> <a id="4270" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="4272" href="stlc.safety.html#4272" class="Bound">M·N→*V</a><a id="4278" class="Symbol">)</a>    <a id="4283" href="stlc.safety.html#4283" class="Bound">—↛V</a> <a id="4287" class="Symbol">=</a> <a id="4289" href="stlc.safety.html#4254" class="Bound">N</a> <a id="4291" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4293" class="Symbol">(</a><a id="4294" href="stlc.safety.html#4254" class="Bound">N</a> <a id="4296" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4297" class="Symbol">)</a> <a id="4299" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4301" href="stlc.safety.html#3123" class="Function">V→—↛</a> <a id="4306" href="stlc.safety.html#4267" class="Bound">VN</a>

<a id="if—↛"></a><a id="4310" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="4315" class="Symbol">:</a> <a id="4317" class="Symbol">∀</a> <a id="4319" class="Symbol">{</a><a id="4320" href="stlc.safety.html#4320" class="Bound">L</a> <a id="4322" href="stlc.safety.html#4322" class="Bound">M</a> <a id="4324" href="stlc.safety.html#4324" class="Bound">N</a> <a id="4326" href="stlc.safety.html#4326" class="Bound">V</a><a id="4327" class="Symbol">}</a> <a id="4329" class="Symbol">→</a> <a id="4331" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4334" href="stlc.safety.html#4320" class="Bound">L</a> <a id="4336" href="stlc.safety.html#4322" class="Bound">M</a> <a id="4338" href="stlc.safety.html#4324" class="Bound">N</a> <a id="4340" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="4344" href="stlc.safety.html#4326" class="Bound">V</a> <a id="4346" class="Symbol">→</a> <a id="4348" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="4351" href="stlc.safety.html#4326" class="Bound">V</a> <a id="4353" class="Symbol">→</a> <a id="4355" href="Data.Product.Base.html#1371" class="Function">∃[</a> <a id="4358" href="stlc.safety.html#4358" class="Bound">L&#39;</a> <a id="4361" href="Data.Product.Base.html#1371" class="Function">]</a> <a id="4363" class="Symbol">(</a><a id="4364" href="stlc.safety.html#4320" class="Bound">L</a> <a id="4366" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="4370" href="stlc.safety.html#4358" class="Bound">L&#39;</a><a id="4372" class="Symbol">)</a> <a id="4374" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="4376" class="Symbol">(</a><a id="4377" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="4380" href="stlc.safety.html#4358" class="Bound">L&#39;</a><a id="4382" class="Symbol">)</a>
<a id="4384" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="4389" class="Symbol">((</a><a id="4391" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4394" href="stlc.safety.html#4394" class="Bound">L</a> <a id="4396" href="stlc.safety.html#4396" class="Bound">M</a> <a id="4398" href="stlc.safety.html#4398" class="Bound">N</a><a id="4399" class="Symbol">)</a> <a id="4401" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4402" class="Symbol">)</a>                    <a id="4423" href="stlc.safety.html#4423" class="Bound">—↛V</a> <a id="4427" class="Symbol">=</a> <a id="4429" href="stlc.safety.html#4394" class="Bound">L</a> <a id="4431" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4433" class="Symbol">(</a><a id="4434" href="stlc.safety.html#4394" class="Bound">L</a> <a id="4436" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4437" class="Symbol">)</a> <a id="4439" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4441" class="Symbol">(λ</a> <a id="4444" href="stlc.safety.html#4444" class="Bound">M&#39;</a> <a id="4447" href="stlc.safety.html#4447" class="Bound">x</a> <a id="4449" class="Symbol">→</a> <a id="4451" href="stlc.safety.html#4423" class="Bound">—↛V</a> <a id="4455" class="Symbol">(</a><a id="4456" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4459" href="stlc.safety.html#4444" class="Bound">M&#39;</a> <a id="4462" href="stlc.safety.html#4396" class="Bound">M</a> <a id="4464" href="stlc.safety.html#4398" class="Bound">N</a><a id="4465" class="Symbol">)</a> <a id="4467" class="Symbol">(</a><a id="4468" href="stlc.base.html#3246" class="InductiveConstructor">ξ-if</a> <a id="4473" href="stlc.safety.html#4447" class="Bound">x</a><a id="4474" class="Symbol">))</a>
<a id="4477" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="4482" class="Symbol">((</a><a id="4484" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4487" href="stlc.safety.html#4487" class="Bound">L</a> <a id="4489" href="stlc.safety.html#4489" class="Bound">M</a> <a id="4491" href="stlc.safety.html#4491" class="Bound">N</a><a id="4492" class="Symbol">)</a> <a id="4494" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="4498" href="stlc.base.html#3246" class="InductiveConstructor">ξ-if</a> <a id="4503" href="stlc.safety.html#4503" class="Bound">VL</a> <a id="4506" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="4508" href="stlc.safety.html#4508" class="Bound">if→*V</a><a id="4513" class="Symbol">)</a>  <a id="4516" href="stlc.safety.html#4516" class="Bound">—↛V</a> <a id="4520" class="Keyword">with</a> <a id="4525" href="stlc.safety.html#4525" class="Bound">L&#39;</a> <a id="4528" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4530" href="stlc.safety.html#4530" class="Bound">L→L&#39;</a> <a id="4535" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4537" href="stlc.safety.html#4537" class="Bound">—↛L&#39;</a> ← <a id="4544" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="4549" href="stlc.safety.html#4508" class="Bound">if→*V</a> <a id="4555" href="stlc.safety.html#4516" class="Bound">—↛V</a> <a id="4559" class="Symbol">=</a> <a id="4561" href="stlc.safety.html#4525" class="Bound">L&#39;</a> <a id="4564" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4566" class="Symbol">(</a><a id="4567" href="stlc.safety.html#4487" class="Bound">L</a> <a id="4569" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="4573" href="stlc.safety.html#4503" class="Bound">VL</a> <a id="4576" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="4578" href="stlc.safety.html#4530" class="Bound">L→L&#39;</a><a id="4582" class="Symbol">)</a> <a id="4584" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4586" href="stlc.safety.html#4537" class="Bound">—↛L&#39;</a>
<a id="4591" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="4596" class="Symbol">((</a><a id="4598" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4601" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="4606" href="stlc.safety.html#4606" class="Bound">M</a> <a id="4608" href="stlc.safety.html#4608" class="Bound">N</a><a id="4609" class="Symbol">)</a> <a id="4611" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="4615" href="stlc.base.html#3348" class="InductiveConstructor">β-if₁</a> <a id="4621" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="4623" href="stlc.safety.html#4623" class="Bound">M→*V</a><a id="4627" class="Symbol">)</a>  <a id="4630" href="stlc.safety.html#4630" class="Bound">—↛V</a> <a id="4634" class="Symbol">=</a> <a id="4636" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="4641" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4643" class="Symbol">(</a><a id="4644" href="stlc.base.html#529" class="InductiveConstructor">true</a> <a id="4649" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4650" class="Symbol">)</a> <a id="4652" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4654" class="Symbol">λ</a> <a id="4656" class="Symbol">{</a> <a id="4658" href="stlc.safety.html#4658" class="Bound">x</a> <a id="4660" class="Symbol">()</a> <a id="4663" class="Symbol">}</a>
<a id="4665" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="4670" class="Symbol">((</a><a id="4672" href="stlc.base.html#563" class="InductiveConstructor">if</a> <a id="4675" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="4681" href="stlc.safety.html#4681" class="Bound">M</a> <a id="4683" href="stlc.safety.html#4683" class="Bound">N</a><a id="4684" class="Symbol">)</a> <a id="4686" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="4690" href="stlc.base.html#3420" class="InductiveConstructor">β-if₂</a> <a id="4696" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="4698" href="stlc.safety.html#4698" class="Bound">N→*V</a><a id="4702" class="Symbol">)</a> <a id="4704" href="stlc.safety.html#4704" class="Bound">—↛V</a> <a id="4708" class="Symbol">=</a> <a id="4710" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="4716" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4718" class="Symbol">(</a><a id="4719" href="stlc.base.html#546" class="InductiveConstructor">false</a> <a id="4725" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="4726" class="Symbol">)</a> <a id="4728" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4730" class="Symbol">λ</a> <a id="4732" class="Symbol">{</a><a id="4733" href="stlc.safety.html#4733" class="Bound">x</a> <a id="4735" class="Symbol">()</a> <a id="4738" class="Symbol">}</a>

<a id="conf—↛join"></a><a id="4741" href="stlc.safety.html#4741" class="Function">conf—↛join</a> <a id="4752" class="Symbol">:</a> <a id="4754" class="Symbol">∀</a> <a id="4756" class="Symbol">{</a><a id="4757" href="stlc.safety.html#4757" class="Bound">L</a> <a id="4759" href="stlc.safety.html#4759" class="Bound">M</a> <a id="4761" href="stlc.safety.html#4761" class="Bound">M&#39;</a><a id="4763" class="Symbol">}</a> <a id="4765" class="Symbol">→</a> <a id="4767" href="stlc.safety.html#4757" class="Bound">L</a> <a id="4769" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="4773" href="stlc.safety.html#4759" class="Bound">M</a> <a id="4775" class="Symbol">→</a> <a id="4777" href="stlc.safety.html#4757" class="Bound">L</a> <a id="4779" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="4783" href="stlc.safety.html#4761" class="Bound">M&#39;</a> <a id="4786" class="Symbol">→</a> <a id="4788" href="stlc.safety.html#746" class="Function Operator">—↛</a> <a id="4791" href="stlc.safety.html#4759" class="Bound">M</a> <a id="4793" class="Symbol">→</a> <a id="4795" href="stlc.safety.html#4761" class="Bound">M&#39;</a> <a id="4798" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="4802" href="stlc.safety.html#4759" class="Bound">M</a>
<a id="4804" href="stlc.safety.html#4741" class="Function">conf—↛join</a> <a id="4815" href="stlc.safety.html#4815" class="Bound">L→*M</a> <a id="4820" href="stlc.safety.html#4820" class="Bound">L→*M&#39;</a> <a id="4826" href="stlc.safety.html#4826" class="Bound">—↛M</a>
  <a id="4832" class="Keyword">with</a> <a id="4837" href="stlc.safety.html#4837" class="Bound">N</a> <a id="4839" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4841" href="stlc.safety.html#4841" class="Bound">M→*N</a> <a id="4846" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="4848" href="stlc.safety.html#4848" class="Bound">M&#39;→*N</a> ← <a id="4856" href="stlc.prop.html#4697" class="Function">confluence</a> <a id="4867" href="stlc.safety.html#4815" class="Bound">L→*M</a> <a id="4872" href="stlc.safety.html#4820" class="Bound">L→*M&#39;</a>
  <a id="4880" class="Keyword">with</a> <a id="4885" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="4892" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="4900" href="stlc.safety.html#4841" class="Bound">M→*N</a> <a id="4905" href="stlc.safety.html#4826" class="Bound">—↛M</a>
  <a id="4911" class="Symbol">=</a> <a id="4913" href="stlc.safety.html#4848" class="Bound">M&#39;→*N</a>

<a id="4920" class="Comment">-- fundamental property</a>
<a id="4944" class="Comment">-- syntactic typing implies semantic typing</a>
<a id="⊢-⊨"></a><a id="4988" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="4992" class="Symbol">:</a> <a id="4994" class="Symbol">∀</a> <a id="4996" class="Symbol">{</a><a id="4997" href="stlc.safety.html#4997" class="Bound">Γ</a> <a id="4999" class="Symbol">:</a> <a id="5001" href="stlc.base.html#734" class="Datatype">Context</a> <a id="5009" href="stlc.safety.html#584" class="Generalizable">n</a><a id="5010" class="Symbol">}</a> <a id="5012" class="Symbol">{</a><a id="5013" href="stlc.safety.html#5013" class="Bound">M</a> <a id="5015" href="stlc.safety.html#5015" class="Bound">A</a><a id="5016" class="Symbol">}</a>
  <a id="5020" class="Symbol">→</a> <a id="5022" href="stlc.safety.html#4997" class="Bound">Γ</a> <a id="5024" href="stlc.base.html#2112" class="Datatype Operator">⊢</a> <a id="5026" href="stlc.safety.html#5013" class="Bound">M</a> <a id="5028" href="stlc.base.html#2112" class="Datatype Operator">⦂</a> <a id="5030" href="stlc.safety.html#5015" class="Bound">A</a>
    <a id="5036" class="Comment">----------</a>
  <a id="5049" class="Symbol">→</a> <a id="5051" href="stlc.safety.html#4997" class="Bound">Γ</a> <a id="5053" href="stlc.safety.html#1213" class="Function Operator">⊨</a> <a id="5055" href="stlc.safety.html#5013" class="Bound">M</a> <a id="5057" href="stlc.safety.html#1213" class="Function Operator">⦂</a> <a id="5059" href="stlc.safety.html#5015" class="Bound">A</a>

<a id="5062" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="5066" class="Symbol">{</a><a id="5067" class="Argument">Γ</a> <a id="5069" class="Symbol">=</a> <a id="5071" href="stlc.safety.html#5071" class="Bound">Γ</a> <a id="5073" href="stlc.base.html#779" class="InductiveConstructor Operator">,-</a> <a id="5076" href="stlc.safety.html#5076" class="Bound">B</a><a id="5077" class="Symbol">}</a> <a id="5079" class="Symbol">(</a><a id="5080" href="stlc.base.html#2166" class="InductiveConstructor">⊢var</a> <a id="5085" href="stlc.safety.html#5085" class="Bound">x</a><a id="5086" class="Symbol">)</a> <a id="5088" href="stlc.safety.html#5088" class="Bound">σ</a> <a id="5090" href="stlc.safety.html#5090" class="Bound">GG</a> <a id="5093" href="stlc.safety.html#5093" class="Bound">M&#39;</a> <a id="5096" class="Symbol">(</a><a id="5097" href="stlc.safety.html#5097" class="Bound">M→*M&#39;</a> <a id="5103" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5105" href="stlc.safety.html#5105" class="Bound">—↛M&#39;</a><a id="5109" class="Symbol">)</a> <a id="5111" class="Keyword">with</a> <a id="5116" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="5123" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="5131" href="stlc.safety.html#5097" class="Bound">M→*M&#39;</a> <a id="5137" class="Symbol">(</a><a id="5138" href="stlc.safety.html#3376" class="Function">𝒱→—↛</a> <a id="5143" class="Symbol">(</a><a id="5144" href="stlc.safety.html#5090" class="Bound">GG</a> <a id="5147" href="stlc.safety.html#5085" class="Bound">x</a><a id="5148" class="Symbol">))</a> <a id="5151" class="Symbol">=</a> <a id="5153" href="stlc.safety.html#5090" class="Bound">GG</a> <a id="5156" href="stlc.safety.html#5085" class="Bound">x</a>
<a id="5158" href="stlc.safety.html#4988" class="CatchallClause Function">⊢-⊨</a><a id="5161" class="CatchallClause"> </a><a id="5162" class="CatchallClause Symbol">{</a><a id="5163" class="CatchallClause Argument">M</a><a id="5164" class="CatchallClause"> </a><a id="5165" class="CatchallClause Symbol">=</a><a id="5166" class="CatchallClause"> </a><a id="5167" href="stlc.base.html#462" class="CatchallClause InductiveConstructor Operator">ƛ</a><a id="5168" class="CatchallClause"> </a><a id="5169" href="stlc.safety.html#5169" class="CatchallClause Bound">M</a><a id="5170" class="CatchallClause Symbol">}</a><a id="5171" class="CatchallClause"> </a><a id="5172" class="CatchallClause Symbol">{</a><a id="5173" class="CatchallClause Argument">A</a><a id="5174" class="CatchallClause"> </a><a id="5175" class="CatchallClause Symbol">=</a><a id="5176" class="CatchallClause"> </a><a id="5177" href="stlc.safety.html#5177" class="CatchallClause Bound">A</a><a id="5178" class="CatchallClause"> </a><a id="5179" href="stlc.base.html#340" class="CatchallClause InductiveConstructor Operator">⇒</a><a id="5180" class="CatchallClause"> </a><a id="5181" href="stlc.safety.html#5181" class="CatchallClause Bound">B</a><a id="5182" class="CatchallClause Symbol">}</a><a id="5183" class="CatchallClause"> </a><a id="5184" class="CatchallClause Symbol">(</a><a id="5185" href="stlc.base.html#2247" class="CatchallClause InductiveConstructor">⊢abs</a><a id="5189" class="CatchallClause"> </a><a id="5190" href="stlc.safety.html#5190" class="CatchallClause Bound">⊢M</a><a id="5192" class="CatchallClause Symbol">)</a><a id="5193" class="CatchallClause"> </a><a id="5194" href="stlc.safety.html#5194" class="CatchallClause Bound">σ</a><a id="5195" class="CatchallClause"> </a><a id="5196" href="stlc.safety.html#5196" class="CatchallClause Bound">GG</a><a id="5198" class="CatchallClause"> </a><a id="5199" href="stlc.safety.html#5199" class="CatchallClause Bound">M&#39;</a><a id="5201" class="CatchallClause"> </a><a id="5202" class="CatchallClause Symbol">((</a><a id="5204" href="stlc.base.html#462" class="CatchallClause InductiveConstructor Operator">ƛ</a><a id="5205" class="CatchallClause"> </a><a id="5206" href="stlc.safety.html#5206" class="CatchallClause Bound">⟪σ⟫M</a><a id="5210" class="CatchallClause"> </a><a id="5211" href="stlc.base.html#3651" class="CatchallClause InductiveConstructor Operator">∎</a><a id="5212" class="CatchallClause Symbol">)</a><a id="5213" class="CatchallClause"> </a><a id="5214" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5215" class="CatchallClause"> </a><a id="5216" href="stlc.safety.html#5216" class="CatchallClause Bound">—↛M&#39;</a><a id="5220" class="CatchallClause Symbol">)</a><a id="5221" class="CatchallClause"> </a><a id="5222" href="stlc.safety.html#5222" class="CatchallClause Bound">N</a><a id="5223" class="CatchallClause"> </a><a id="5224" href="stlc.safety.html#5224" class="CatchallClause Bound">VN</a><a id="5226" class="CatchallClause"> </a><a id="5227" href="stlc.safety.html#5227" class="CatchallClause Bound">M&#39;&#39;</a><a id="5230" class="CatchallClause"> </a><a id="5231" class="CatchallClause Symbol">(</a><a id="5232" href="stlc.safety.html#5232" class="CatchallClause Bound">MN→M&#39;</a><a id="5237" class="CatchallClause"> </a><a id="5238" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5239" class="CatchallClause"> </a><a id="5240" href="stlc.safety.html#5240" class="CatchallClause Bound">—↛M&#39;&#39;</a><a id="5245" class="CatchallClause Symbol">)</a>
  <a id="5249" class="Symbol">=</a> <a id="5251" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="5255" href="stlc.safety.html#5190" class="Bound">⊢M</a> <a id="5258" class="Symbol">(</a><a id="5259" href="stlc.safety.html#5222" class="Bound">N</a> <a id="5261" href="stlc.subst.html#1080" class="Function Operator">•</a> <a id="5263" href="stlc.safety.html#5194" class="Bound">σ</a><a id="5264" class="Symbol">)</a> <a id="5266" class="Symbol">(λ</a> <a id="5269" class="Symbol">{</a> <a id="5271" href="stlc.base.html#906" class="InductiveConstructor">Z</a> <a id="5273" class="Symbol">→</a> <a id="5275" href="stlc.safety.html#5224" class="Bound">VN</a> <a id="5278" class="Symbol">;</a> <a id="5280" class="Symbol">(</a><a id="5281" href="stlc.base.html#986" class="InductiveConstructor">S</a> <a id="5283" href="stlc.safety.html#5283" class="Bound">x</a><a id="5284" class="Symbol">)</a> <a id="5286" class="Symbol">→</a> <a id="5288" href="stlc.safety.html#5196" class="Bound">GG</a> <a id="5291" href="stlc.safety.html#5283" class="Bound">x</a> <a id="5293" class="Symbol">})</a> <a id="5296" href="stlc.safety.html#5227" class="Bound">M&#39;&#39;</a> <a id="5300" class="Symbol">(</a><a id="5301" href="stlc.safety.html#5334" class="Function">⟪N•σ⟫M→*M&#39;&#39;</a> <a id="5313" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5315" href="stlc.safety.html#5240" class="Bound">—↛M&#39;&#39;</a><a id="5320" class="Symbol">)</a>
  <a id="5324" class="Keyword">where</a>
    <a id="5334" href="stlc.safety.html#5334" class="Function">⟪N•σ⟫M→*M&#39;&#39;</a> <a id="5346" class="Symbol">:</a> <a id="5348" href="stlc.base.html#1604" class="Function">subst</a> <a id="5354" class="Symbol">(</a><a id="5355" href="stlc.safety.html#5222" class="Bound">N</a> <a id="5357" href="stlc.subst.html#1080" class="Function Operator">•</a> <a id="5359" href="stlc.safety.html#5194" class="Bound">σ</a><a id="5360" class="Symbol">)</a> <a id="5362" href="stlc.safety.html#5169" class="Bound">M</a> <a id="5364" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="5368" href="stlc.safety.html#5227" class="Bound">M&#39;&#39;</a>
    <a id="5376" href="stlc.safety.html#5334" class="Function">⟪N•σ⟫M→*M&#39;&#39;</a> <a id="5388" class="Keyword">rewrite</a> <a id="5396" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">Eq.sym</a> <a id="5403" class="Symbol">(</a><a id="5404" href="stlc.subst.html#14672" class="Function">sub-ext-sub</a> <a id="5416" class="Symbol">{</a><a id="5417" class="Argument">σ</a> <a id="5419" class="Symbol">=</a> <a id="5421" href="stlc.safety.html#5194" class="Bound">σ</a><a id="5422" class="Symbol">}</a> <a id="5424" class="Symbol">{</a><a id="5425" class="Argument">M</a> <a id="5427" class="Symbol">=</a> <a id="5429" href="stlc.safety.html#5169" class="Bound">M</a><a id="5430" class="Symbol">}</a> <a id="5432" class="Symbol">{</a><a id="5433" class="Argument">N</a> <a id="5435" class="Symbol">=</a> <a id="5437" href="stlc.safety.html#5222" class="Bound">N</a><a id="5438" class="Symbol">})</a> <a id="5441" class="Symbol">=</a> <a id="5443" href="stlc.safety.html#5232" class="Bound">MN→M&#39;</a>
<a id="5449" href="stlc.safety.html#4988" class="CatchallClause Function">⊢-⊨</a><a id="5452" class="CatchallClause"> </a><a id="5453" class="CatchallClause Symbol">{</a><a id="5454" class="CatchallClause Argument">M</a><a id="5455" class="CatchallClause"> </a><a id="5456" class="CatchallClause Symbol">=</a><a id="5457" class="CatchallClause"> </a><a id="5458" href="stlc.safety.html#5458" class="CatchallClause Bound">M</a><a id="5459" class="CatchallClause"> </a><a id="5460" href="stlc.base.html#494" class="CatchallClause InductiveConstructor Operator">·</a><a id="5461" class="CatchallClause"> </a><a id="5462" href="stlc.safety.html#5462" class="CatchallClause Bound">N</a><a id="5463" class="CatchallClause Symbol">}</a><a id="5464" class="CatchallClause"> </a><a id="5465" class="CatchallClause Symbol">(</a><a id="5466" href="stlc.base.html#2343" class="CatchallClause InductiveConstructor">⊢app</a><a id="5470" class="CatchallClause"> </a><a id="5471" class="CatchallClause Symbol">{</a><a id="5472" class="CatchallClause Argument">A</a><a id="5473" class="CatchallClause"> </a><a id="5474" class="CatchallClause Symbol">=</a><a id="5475" class="CatchallClause"> </a><a id="5476" href="stlc.safety.html#5476" class="CatchallClause Bound">A</a><a id="5477" class="CatchallClause Symbol">}</a><a id="5478" class="CatchallClause"> </a><a id="5479" class="CatchallClause Symbol">{</a><a id="5480" class="CatchallClause Argument">B</a><a id="5481" class="CatchallClause"> </a><a id="5482" class="CatchallClause Symbol">=</a><a id="5483" class="CatchallClause"> </a><a id="5484" href="stlc.safety.html#5484" class="CatchallClause Bound">B</a><a id="5485" class="CatchallClause Symbol">}</a><a id="5486" class="CatchallClause"> </a><a id="5487" href="stlc.safety.html#5487" class="CatchallClause Bound">⊢M</a><a id="5489" class="CatchallClause"> </a><a id="5490" href="stlc.safety.html#5490" class="CatchallClause Bound">⊢N</a><a id="5492" class="CatchallClause Symbol">)</a><a id="5493" class="CatchallClause"> </a><a id="5494" href="stlc.safety.html#5494" class="CatchallClause Bound">σ</a><a id="5495" class="CatchallClause"> </a><a id="5496" href="stlc.safety.html#5496" class="CatchallClause Bound">GG</a><a id="5498" class="CatchallClause"> </a><a id="5499" href="stlc.safety.html#5499" class="CatchallClause Bound">M&#39;</a><a id="5501" class="CatchallClause"> </a><a id="5502" class="CatchallClause Symbol">(</a><a id="5503" href="stlc.safety.html#5503" class="CatchallClause Bound">M→*M&#39;</a><a id="5508" class="CatchallClause"> </a><a id="5509" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="5510" class="CatchallClause"> </a><a id="5511" href="stlc.safety.html#5511" class="CatchallClause Bound">—↛M&#39;</a><a id="5515" class="CatchallClause Symbol">)</a>
  <a id="5519" class="Keyword">with</a> <a id="5524" href="stlc.safety.html#5524" class="Bound">M₁</a> <a id="5527" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5529" href="stlc.safety.html#5529" class="Bound">σM→M₁</a> <a id="5535" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5537" href="stlc.safety.html#5537" class="Bound">—↛M₁</a> ← <a id="5544" href="stlc.safety.html#3492" class="Function">appL—↛</a> <a id="5551" href="stlc.safety.html#5503" class="Bound">M→*M&#39;</a> <a id="5557" href="stlc.safety.html#5511" class="Bound">—↛M&#39;</a>
  <a id="5564" class="Keyword">with</a> <a id="5569" href="stlc.safety.html#5569" class="Bound">VM</a> ← <a id="5574" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="5578" href="stlc.safety.html#5487" class="Bound">⊢M</a> <a id="5581" href="stlc.safety.html#5494" class="Bound">σ</a> <a id="5583" href="stlc.safety.html#5496" class="Bound">GG</a> <a id="5586" href="stlc.safety.html#5524" class="Bound">M₁</a> <a id="5589" class="Symbol">(</a><a id="5590" href="stlc.safety.html#5529" class="Bound">σM→M₁</a> <a id="5596" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5598" href="stlc.safety.html#5537" class="Bound">—↛M₁</a><a id="5602" class="Symbol">)</a>
  <a id="5606" class="Keyword">with</a> <a id="5611" href="stlc.safety.html#5611" class="Bound">M₁&#39;</a> <a id="5615" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5617" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="5624" href="stlc.safety.html#2880" class="Function">𝒱⟦⇒⟧-Canonical</a> <a id="5639" href="stlc.safety.html#5569" class="Bound">VM</a>
  <a id="5644" class="Keyword">with</a> <a id="5649" href="stlc.safety.html#5649" class="Bound">M₁·σN→*M&#39;</a> ← <a id="5661" href="stlc.safety.html#4741" class="Function">conf—↛join</a> <a id="5672" href="stlc.safety.html#5503" class="Bound">M→*M&#39;</a> <a id="5678" class="Symbol">(</a><a id="5679" href="stlc.prop.html#4331" class="Function">—→*-trans</a> <a id="5689" class="Symbol">(</a><a id="5690" href="stlc.prop.html#5385" class="Function">appL-cong</a> <a id="5700" href="stlc.safety.html#5529" class="Bound">σM→M₁</a><a id="5705" class="Symbol">)</a> <a id="5707" class="Symbol">(</a><a id="5708" href="stlc.safety.html#5524" class="Bound">M₁</a> <a id="5711" href="stlc.base.html#494" class="InductiveConstructor Operator">·</a> <a id="5713" href="stlc.base.html#1604" class="Function">subst</a> <a id="5719" href="stlc.safety.html#5494" class="Bound">σ</a> <a id="5721" href="stlc.safety.html#5462" class="Bound">N</a> <a id="5723" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="5724" class="Symbol">))</a> <a id="5727" href="stlc.safety.html#5511" class="Bound">—↛M&#39;</a>
  <a id="5734" class="Keyword">with</a> <a id="5739" href="stlc.safety.html#5739" class="Bound">N₁</a> <a id="5742" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5744" href="stlc.safety.html#5744" class="Bound">σN→N₁</a> <a id="5750" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5752" href="stlc.safety.html#5752" class="Bound">—↛N₁</a> ← <a id="5759" href="stlc.safety.html#3930" class="Function">appR—↛</a> <a id="5766" href="stlc.safety.html#5649" class="Bound">M₁·σN→*M&#39;</a> <a id="5776" href="stlc.safety.html#5511" class="Bound">—↛M&#39;</a>
  <a id="5783" class="Keyword">with</a> <a id="5788" href="stlc.safety.html#5788" class="Bound">VN</a> ← <a id="5793" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="5797" href="stlc.safety.html#5490" class="Bound">⊢N</a> <a id="5800" href="stlc.safety.html#5494" class="Bound">σ</a> <a id="5802" href="stlc.safety.html#5496" class="Bound">GG</a> <a id="5805" href="stlc.safety.html#5739" class="Bound">N₁</a> <a id="5808" class="Symbol">(</a><a id="5809" href="stlc.safety.html#5744" class="Bound">σN→N₁</a> <a id="5815" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="5817" href="stlc.safety.html#5752" class="Bound">—↛N₁</a><a id="5821" class="Symbol">)</a>
  <a id="5825" class="Keyword">with</a> <a id="5830" href="stlc.safety.html#5830" class="Bound">M₁[N₁]→*M₂</a> ← <a id="5843" href="stlc.safety.html#4741" class="Function">conf—↛join</a> <a id="5854" href="stlc.safety.html#5503" class="Bound">M→*M&#39;</a>
       <a id="5867" class="Symbol">(</a><a id="5868" href="stlc.prop.html#4331" class="Function">—→*-trans</a> <a id="5878" class="Symbol">(</a><a id="5879" href="stlc.prop.html#5385" class="Function">appL-cong</a> <a id="5889" href="stlc.safety.html#5529" class="Bound">σM→M₁</a><a id="5894" class="Symbol">)</a>
         <a id="5905" class="Symbol">(</a><a id="5906" href="stlc.prop.html#4331" class="Function">—→*-trans</a> <a id="5916" class="Symbol">(</a><a id="5917" href="stlc.prop.html#5595" class="Function">appR-cong</a> <a id="5927" href="stlc.safety.html#5744" class="Bound">σN→N₁</a><a id="5932" class="Symbol">)</a> <a id="5934" class="Symbol">(_</a> <a id="5937" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="5941" href="stlc.base.html#3150" class="InductiveConstructor">β-abs</a> <a id="5947" class="Symbol">(</a><a id="5948" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="5952" href="stlc.safety.html#5788" class="Bound">VN</a><a id="5954" class="Symbol">)</a> <a id="5956" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="5958" class="Symbol">(</a><a id="5959" href="stlc.safety.html#5611" class="Bound">M₁&#39;</a> <a id="5963" href="stlc.base.html#1987" class="Function Operator">[</a> <a id="5965" href="stlc.safety.html#5739" class="Bound">N₁</a> <a id="5968" href="stlc.base.html#1987" class="Function Operator">]</a><a id="5969" class="Symbol">)</a> <a id="5971" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="5972" class="Symbol">)))</a> <a id="5976" href="stlc.safety.html#5511" class="Bound">—↛M&#39;</a>
  <a id="5983" class="Symbol">=</a> <a id="5985" href="stlc.safety.html#5569" class="Bound">VM</a> <a id="5988" href="stlc.safety.html#5739" class="Bound">N₁</a> <a id="5991" href="stlc.safety.html#5788" class="Bound">VN</a> <a id="5994" href="stlc.safety.html#5499" class="Bound">M&#39;</a> <a id="5997" class="Symbol">(</a><a id="5998" href="stlc.safety.html#5830" class="Bound">M₁[N₁]→*M₂</a> <a id="6009" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6011" href="stlc.safety.html#5511" class="Bound">—↛M&#39;</a><a id="6015" class="Symbol">)</a>
<a id="6017" href="stlc.safety.html#4988" class="CatchallClause Function">⊢-⊨</a><a id="6020" class="CatchallClause"> </a><a id="6021" href="stlc.base.html#2454" class="CatchallClause InductiveConstructor">⊢true</a><a id="6026" class="CatchallClause">  </a><a id="6028" href="stlc.safety.html#6028" class="CatchallClause Bound">σ</a><a id="6029" class="CatchallClause"> </a><a id="6030" href="stlc.safety.html#6030" class="CatchallClause Bound">GG</a><a id="6032" class="CatchallClause"> </a><a id="6033" href="stlc.safety.html#6033" class="CatchallClause Bound">M&#39;</a><a id="6035" class="CatchallClause"> </a><a id="6036" class="CatchallClause Symbol">(</a><a id="6037" href="stlc.safety.html#6037" class="CatchallClause Bound">M→*M&#39;</a><a id="6042" class="CatchallClause"> </a><a id="6043" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="6044" class="CatchallClause"> </a><a id="6045" href="stlc.safety.html#6045" class="CatchallClause Bound">—↛M&#39;</a><a id="6049" class="CatchallClause Symbol">)</a> <a id="6051" class="Keyword">with</a> <a id="6056" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="6063" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="6071" href="stlc.safety.html#6037" class="Bound">M→*M&#39;</a> <a id="6077" class="Symbol">(λ</a> <a id="6080" class="Symbol">{</a> <a id="6082" class="Symbol">_</a> <a id="6084" class="Symbol">()</a> <a id="6087" class="Symbol">})</a> <a id="6090" class="Symbol">=</a> <a id="6092" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="6095" href="stlc.safety.html#4988" class="CatchallClause Function">⊢-⊨</a><a id="6098" class="CatchallClause"> </a><a id="6099" href="stlc.base.html#2522" class="CatchallClause InductiveConstructor">⊢false</a><a id="6105" class="CatchallClause"> </a><a id="6106" href="stlc.safety.html#6106" class="CatchallClause Bound">σ</a><a id="6107" class="CatchallClause"> </a><a id="6108" href="stlc.safety.html#6108" class="CatchallClause Bound">GG</a><a id="6110" class="CatchallClause"> </a><a id="6111" href="stlc.safety.html#6111" class="CatchallClause Bound">M&#39;</a><a id="6113" class="CatchallClause"> </a><a id="6114" class="CatchallClause Symbol">(</a><a id="6115" href="stlc.safety.html#6115" class="CatchallClause Bound">M→*M&#39;</a><a id="6120" class="CatchallClause"> </a><a id="6121" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="6122" class="CatchallClause"> </a><a id="6123" href="stlc.safety.html#6123" class="CatchallClause Bound">—↛M&#39;</a><a id="6127" class="CatchallClause Symbol">)</a> <a id="6129" class="Keyword">with</a> <a id="6134" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> ← <a id="6141" href="stlc.safety.html#2981" class="Function">—↛-M→*M</a> <a id="6149" href="stlc.safety.html#6115" class="Bound">M→*M&#39;</a> <a id="6155" class="Symbol">(λ</a> <a id="6158" class="Symbol">{</a> <a id="6160" class="Symbol">_</a> <a id="6162" class="Symbol">()</a> <a id="6165" class="Symbol">})</a> <a id="6168" class="Symbol">=</a> <a id="6170" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a>
<a id="6173" href="stlc.safety.html#4988" class="CatchallClause Function">⊢-⊨</a><a id="6176" class="CatchallClause"> </a><a id="6177" class="CatchallClause Symbol">{</a><a id="6178" class="CatchallClause Argument">M</a><a id="6179" class="CatchallClause"> </a><a id="6180" class="CatchallClause Symbol">=</a><a id="6181" class="CatchallClause"> </a><a id="6182" href="stlc.base.html#563" class="CatchallClause InductiveConstructor">if</a><a id="6184" class="CatchallClause"> </a><a id="6185" href="stlc.safety.html#6185" class="CatchallClause Bound">L</a><a id="6186" class="CatchallClause"> </a><a id="6187" href="stlc.safety.html#6187" class="CatchallClause Bound">M</a><a id="6188" class="CatchallClause"> </a><a id="6189" href="stlc.safety.html#6189" class="CatchallClause Bound">N</a><a id="6190" class="CatchallClause Symbol">}</a><a id="6191" class="CatchallClause"> </a><a id="6192" class="CatchallClause Symbol">(</a><a id="6193" href="stlc.base.html#2593" class="CatchallClause InductiveConstructor">⊢if</a><a id="6196" class="CatchallClause"> </a><a id="6197" href="stlc.safety.html#6197" class="CatchallClause Bound">⊢L</a><a id="6199" class="CatchallClause"> </a><a id="6200" href="stlc.safety.html#6200" class="CatchallClause Bound">⊢M</a><a id="6202" class="CatchallClause"> </a><a id="6203" href="stlc.safety.html#6203" class="CatchallClause Bound">⊢N</a><a id="6205" class="CatchallClause Symbol">)</a><a id="6206" class="CatchallClause"> </a><a id="6207" href="stlc.safety.html#6207" class="CatchallClause Bound">σ</a><a id="6208" class="CatchallClause"> </a><a id="6209" href="stlc.safety.html#6209" class="CatchallClause Bound">GG</a><a id="6211" class="CatchallClause"> </a><a id="6212" href="stlc.safety.html#6212" class="CatchallClause Bound">M&#39;</a><a id="6214" class="CatchallClause"> </a><a id="6215" class="CatchallClause Symbol">(</a><a id="6216" href="stlc.safety.html#6216" class="CatchallClause Bound">M→*M&#39;</a><a id="6221" class="CatchallClause"> </a><a id="6222" href="Agda.Builtin.Sigma.html#235" class="CatchallClause InductiveConstructor Operator">,</a><a id="6223" class="CatchallClause"> </a><a id="6224" href="stlc.safety.html#6224" class="CatchallClause Bound">—↛M&#39;</a><a id="6228" class="CatchallClause Symbol">)</a>
  <a id="6232" class="Keyword">with</a> <a id="6237" href="stlc.safety.html#6237" class="Bound">L&#39;</a> <a id="6240" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6242" href="stlc.safety.html#6242" class="Bound">σL→L&#39;</a> <a id="6248" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6250" href="stlc.safety.html#6250" class="Bound">–↛L&#39;</a> ← <a id="6257" href="stlc.safety.html#4310" class="Function">if—↛</a> <a id="6262" href="stlc.safety.html#6216" class="Bound">M→*M&#39;</a> <a id="6268" href="stlc.safety.html#6224" class="Bound">—↛M&#39;</a>
  <a id="6275" class="Keyword">with</a> <a id="6280" href="stlc.safety.html#2726" class="Function">𝒱⟦bool⟧-Canonical</a> <a id="6298" class="Symbol">(</a><a id="6299" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="6303" href="stlc.safety.html#6197" class="Bound">⊢L</a> <a id="6306" href="stlc.safety.html#6207" class="Bound">σ</a> <a id="6308" href="stlc.safety.html#6209" class="Bound">GG</a> <a id="6311" href="stlc.safety.html#6237" class="Bound">L&#39;</a> <a id="6314" class="Symbol">(</a><a id="6315" href="stlc.safety.html#6242" class="Bound">σL→L&#39;</a> <a id="6321" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6323" href="stlc.safety.html#6250" class="Bound">–↛L&#39;</a><a id="6327" class="Symbol">))</a>
<a id="6330" class="Symbol">...</a> <a id="6334" class="Symbol">|</a> <a id="6336" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6341" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6346" class="Symbol">=</a> <a id="6348" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="6352" class="Bound">⊢M</a> <a id="6355" class="Bound">σ</a> <a id="6357" class="Bound">GG</a> <a id="6360" class="Bound">M&#39;</a>
      <a id="6369" class="Symbol">(</a><a id="6370" href="stlc.safety.html#4741" class="Function">conf—↛join</a> <a id="6381" class="Bound">M→*M&#39;</a> <a id="6387" class="Symbol">(</a><a id="6388" href="stlc.prop.html#4331" class="Function">—→*-trans</a> <a id="6398" class="Symbol">(</a><a id="6399" href="stlc.prop.html#5164" class="Function">if-cong</a> <a id="6407" href="stlc.safety.html#6242" class="Bound">σL→L&#39;</a><a id="6412" class="Symbol">)</a> <a id="6414" class="Symbol">(_</a> <a id="6417" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="6421" href="stlc.base.html#3348" class="InductiveConstructor">β-if₁</a> <a id="6427" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="6429" href="stlc.base.html#1604" class="Function">subst</a> <a id="6435" class="Bound">σ</a> <a id="6437" class="Bound">M</a> <a id="6439" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="6440" class="Symbol">))</a> <a id="6443" class="Bound">—↛M&#39;</a> <a id="6448" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6450" class="Bound">—↛M&#39;</a><a id="6454" class="Symbol">)</a>
<a id="6456" class="Symbol">...</a> <a id="6460" class="Symbol">|</a> <a id="6462" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6467" href="Agda.Builtin.Equality.html#207" class="InductiveConstructor">refl</a> <a id="6472" class="Symbol">=</a> <a id="6474" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="6478" class="Bound">⊢N</a> <a id="6481" class="Bound">σ</a> <a id="6483" class="Bound">GG</a> <a id="6486" class="Bound">M&#39;</a>
      <a id="6495" class="Symbol">(</a><a id="6496" href="stlc.safety.html#4741" class="Function">conf—↛join</a> <a id="6507" class="Bound">M→*M&#39;</a> <a id="6513" class="Symbol">(</a><a id="6514" href="stlc.prop.html#4331" class="Function">—→*-trans</a> <a id="6524" class="Symbol">(</a><a id="6525" href="stlc.prop.html#5164" class="Function">if-cong</a> <a id="6533" href="stlc.safety.html#6242" class="Bound">σL→L&#39;</a><a id="6538" class="Symbol">)</a> <a id="6540" class="Symbol">(_</a> <a id="6543" href="stlc.base.html#3824" class="InductiveConstructor Operator">—→⟨</a> <a id="6547" href="stlc.base.html#3420" class="InductiveConstructor">β-if₂</a> <a id="6553" href="stlc.base.html#3824" class="InductiveConstructor Operator">⟩</a> <a id="6555" href="stlc.base.html#1604" class="Function">subst</a> <a id="6561" class="Bound">σ</a> <a id="6563" class="Bound">N</a> <a id="6565" href="stlc.base.html#3651" class="InductiveConstructor Operator">∎</a><a id="6566" class="Symbol">))</a> <a id="6569" class="Bound">—↛M&#39;</a> <a id="6574" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6576" class="Bound">—↛M&#39;</a><a id="6580" class="Symbol">)</a>

<a id="6583" class="Comment">-- adequacy</a>
<a id="6595" class="Comment">-- semantically well typed term is safe</a>
<a id="⊨safe"></a><a id="6635" href="stlc.safety.html#6635" class="Function">⊨safe</a> <a id="6641" class="Symbol">:</a> <a id="6643" class="Symbol">∀</a> <a id="6645" class="Symbol">{</a><a id="6646" href="stlc.safety.html#6646" class="Bound">M</a> <a id="6648" href="stlc.safety.html#6648" class="Bound">A</a><a id="6649" class="Symbol">}</a> <a id="6651" class="Symbol">→</a> <a id="6653" href="stlc.base.html#760" class="InductiveConstructor">∅</a> <a id="6655" href="stlc.safety.html#1213" class="Function Operator">⊨</a> <a id="6657" href="stlc.safety.html#6646" class="Bound">M</a> <a id="6659" href="stlc.safety.html#1213" class="Function Operator">⦂</a> <a id="6661" href="stlc.safety.html#6648" class="Bound">A</a> <a id="6663" class="Symbol">→</a> <a id="6665" href="stlc.safety.html#636" class="Function">Safe</a> <a id="6670" href="stlc.safety.html#6646" class="Bound">M</a>
<a id="6672" href="stlc.safety.html#6635" class="Function">⊨safe</a> <a id="6678" class="Symbol">{</a><a id="6679" class="Argument">M</a> <a id="6681" class="Symbol">=</a> <a id="6683" href="stlc.safety.html#6683" class="Bound">M</a><a id="6684" class="Symbol">}</a> <a id="6686" href="stlc.safety.html#6686" class="Bound">⊨M</a> <a id="6689" href="stlc.safety.html#6689" class="Bound">M&#39;</a> <a id="6692" href="stlc.safety.html#6692" class="Bound">M→*M&#39;</a> <a id="6698" class="Keyword">with</a> <a id="6703" href="stlc.safety.html#1490" class="Function">reducible?</a> <a id="6714" href="stlc.safety.html#6689" class="Bound">M&#39;</a>
<a id="6717" class="Symbol">...</a> <a id="6721" class="Symbol">|</a> <a id="6723" href="Relation.Nullary.Decidable.Core.html#1994" class="InductiveConstructor">yes</a> <a id="6727" href="stlc.safety.html#6727" class="Bound">M&#39;→M&#39;&#39;</a> <a id="6734" class="Symbol">=</a> <a id="6736" href="Data.Sum.Base.html#700" class="InductiveConstructor">inj₂</a> <a id="6741" href="stlc.safety.html#6727" class="Bound">M&#39;→M&#39;&#39;</a>
<a id="6748" class="Symbol">...</a> <a id="6752" class="Symbol">|</a> <a id="6754" href="Relation.Nullary.Decidable.Core.html#2031" class="InductiveConstructor">no</a>  <a id="6758" href="stlc.safety.html#6758" class="Bound">—↛M&#39;</a>   <a id="6765" class="Symbol">=</a> <a id="6767" href="Data.Sum.Base.html#675" class="InductiveConstructor">inj₁</a> <a id="6772" class="Symbol">(</a><a id="6773" href="stlc.safety.html#3220" class="Function">𝒱-V</a> <a id="6777" class="Symbol">(</a><a id="6778" class="Bound">⊨M</a> <a id="6781" href="stlc.subst.html#1001" class="Function">ids</a> <a id="6785" class="Symbol">(λ</a> <a id="6788" class="Symbol">())</a> <a id="6792" class="Bound">M&#39;</a> <a id="6795" class="Symbol">(</a><a id="6796" href="stlc.safety.html#6847" class="Function">⟪id⟫M→*M</a> <a id="6805" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6807" class="Symbol">λ</a> <a id="6809" href="stlc.safety.html#6809" class="Bound">M&#39;&#39;</a> <a id="6813" href="stlc.safety.html#6813" class="Bound">z</a> <a id="6815" class="Symbol">→</a> <a id="6817" href="stlc.safety.html#6758" class="Bound">—↛M&#39;</a> <a id="6822" class="Symbol">(</a><a id="6823" href="stlc.safety.html#6809" class="Bound">M&#39;&#39;</a> <a id="6827" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="6829" href="stlc.safety.html#6813" class="Bound">z</a><a id="6830" class="Symbol">))))</a>
  <a id="6837" class="Keyword">where</a>
    <a id="6847" href="stlc.safety.html#6847" class="Function">⟪id⟫M→*M</a> <a id="6856" class="Symbol">:</a> <a id="6858" href="stlc.base.html#1604" class="Function">subst</a> <a id="6864" href="stlc.subst.html#1001" class="Function">ids</a> <a id="6868" class="Bound">M</a> <a id="6870" href="stlc.base.html#3607" class="Datatype Operator">—→*</a> <a id="6874" class="Bound">M&#39;</a>
    <a id="6881" href="stlc.safety.html#6847" class="Function">⟪id⟫M→*M</a> <a id="6890" class="Symbol">=</a> <a id="6892" href="Relation.Binary.PropositionalEquality.Core.html#1989" class="Function">Eq.subst</a> <a id="6901" class="Symbol">(</a><a id="6902" href="stlc.base.html#3607" class="Datatype Operator">_—→*</a> <a id="6907" class="Bound">M&#39;</a><a id="6909" class="Symbol">)</a> <a id="6911" class="Symbol">(</a><a id="6912" href="Relation.Binary.PropositionalEquality.Core.html#1893" class="Function">Eq.sym</a> <a id="6919" href="stlc.subst.html#7112" class="Function">sub-id</a><a id="6925" class="Symbol">)</a> <a id="6927" class="Bound">M→*M&#39;</a>

<a id="safety"></a><a id="6934" href="stlc.safety.html#6934" class="Function">safety</a> <a id="6941" class="Symbol">:</a> <a id="6943" class="Symbol">∀</a> <a id="6945" class="Symbol">{</a><a id="6946" href="stlc.safety.html#6946" class="Bound">M</a> <a id="6948" href="stlc.safety.html#6948" class="Bound">A</a><a id="6949" class="Symbol">}</a> <a id="6951" class="Symbol">→</a> <a id="6953" href="stlc.base.html#760" class="InductiveConstructor">∅</a> <a id="6955" href="stlc.base.html#2112" class="Datatype Operator">⊢</a> <a id="6957" href="stlc.safety.html#6946" class="Bound">M</a> <a id="6959" href="stlc.base.html#2112" class="Datatype Operator">⦂</a> <a id="6961" href="stlc.safety.html#6948" class="Bound">A</a> <a id="6963" class="Symbol">→</a> <a id="6965" href="stlc.safety.html#636" class="Function">Safe</a> <a id="6970" href="stlc.safety.html#6946" class="Bound">M</a>
<a id="6972" href="stlc.safety.html#6934" class="Function">safety</a> <a id="6979" href="stlc.safety.html#6979" class="Bound">⊢M</a> <a id="6982" class="Symbol">=</a> <a id="6984" href="stlc.safety.html#6635" class="Function">⊨safe</a> <a id="6990" class="Symbol">(</a><a id="6991" href="stlc.safety.html#4988" class="Function">⊢-⊨</a> <a id="6995" href="stlc.safety.html#6979" class="Bound">⊢M</a><a id="6997" class="Symbol">)</a>
</pre></body></html>